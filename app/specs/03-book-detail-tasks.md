# Spec 03: æ›¸ç±è©³æƒ…é  - ä»»å‹™æ¸…å–®

**ç‹€æ…‹**: ğŸ”„ é€²è¡Œä¸­  
**å„ªå…ˆç´š**: P0 (å¿…é ˆå®Œæˆ)  
**é è¨ˆæ™‚é–“**: 2-3 å¤© (14-20 å°æ™‚)  
**é–‹å§‹æ—¥æœŸ**: å¾…å®š  
**å®Œæˆæ—¥æœŸ**: å¾…å®š

---

## ğŸ“Š ä»»å‹™ç¸½è¦½

| éšæ®µ | ä»»å‹™æ•¸ | é è¨ˆæ™‚é–“ | å®Œæˆæ•¸ | ç‹€æ…‹ |
|------|--------|----------|--------|------|
| **Day 1: æ•¸æ“šå±¤ (Phase 3.1-3.4)** | 8 | 4-5h | 4 | ğŸ”„ |
| **Day 2: æ§åˆ¶å™¨èˆ‡é é¢ (Phase 3.5-3.6)** | 10 | 5-6h | 0 | â¬œ |
| **Day 3: æ¸¬è©¦èˆ‡å„ªåŒ– (Phase 3.7-3.9)** | 9 | 4-5h | 0 | â¬œ |
| **ç¸½è¨ˆ** | **27** | **13-16h** | **4** | **15%** |

---

## ğŸ“… Day 1: æ•¸æ“šå±¤å¯¦ç¾ (4-5 å°æ™‚)

### Phase 3.1: æ“´å±• Book æ¨¡å‹ (1 å°æ™‚)

#### âœ… Task 3.1.1: æ·»åŠ æ–°å­—æ®µåˆ° Book æ¨¡å‹
- **æ–‡ä»¶**: `lib/data/models/book_model.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ

**å…·é«”æ­¥é©Ÿ**:
1. æ‰“é–‹ `lib/data/models/book_model.dart`
2. æ·»åŠ ä»¥ä¸‹æ–°å­—æ®µ:
   ```dart
   @HiveField(10)
   final DownloadStatus downloadStatus;  // ä¸‹è¼‰ç‹€æ…‹
   
   @HiveField(11)
   final double downloadProgress;  // ä¸‹è¼‰é€²åº¦ (0.0 - 1.0)
   ```
3. æ›´æ–°æ§‹é€ å‡½æ•¸ï¼Œæ·»åŠ é»˜èªå€¼
4. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [x] æ‰€æœ‰æ–°å­—æ®µå·²æ·»åŠ 
- [x] å­—æ®µæœ‰æ­£ç¢ºçš„ Hive è¨»è§£
- [x] æ§‹é€ å‡½æ•¸å·²æ›´æ–°

---

#### âœ… Task 3.1.2: æ·»åŠ  Book æ¨¡å‹çš„è¼”åŠ©æ–¹æ³•
- **æ–‡ä»¶**: `lib/data/models/book_model.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ

**å…·é«”æ­¥é©Ÿ**:
1. æ·»åŠ  `fileSizeFormatted` getter - æ”¯æŒ B/KB/MB æ ¼å¼åŒ–
2. æ·»åŠ  `isDownloaded` getter - åŸºæ–¼ downloadStatus åˆ¤æ–·
3. æ·»åŠ  `isDownloading` getter - åŸºæ–¼ downloadStatus åˆ¤æ–·
4. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [x] `fileSizeFormatted` æ­£ç¢ºæ ¼å¼åŒ–æ–‡ä»¶å¤§å°ï¼ˆæ”¯æŒ B/KB/MBï¼‰
- [x] `isDownloaded` è¿”å›æ­£ç¢ºçš„å¸ƒçˆ¾å€¼ï¼ˆdownloadStatus == downloadedï¼‰
- [x] `isDownloading` è¿”å›æ­£ç¢ºçš„å¸ƒçˆ¾å€¼ï¼ˆdownloadStatus == downloadingï¼‰

---

#### âœ… Task 3.1.3: é‡æ–°ç”Ÿæˆ Hive Adapters
- **å‘½ä»¤**: `flutter pub run build_runner build --delete-conflicting-outputs`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 5 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ

**å…·é«”æ­¥é©Ÿ**:
1. æ‰“é–‹çµ‚ç«¯
2. é€²å…¥ `app/` ç›®éŒ„
3. é‹è¡Œå‘½ä»¤: `flutter pub run build_runner build --delete-conflicting-outputs`
4. ç­‰å¾…ä»£ç¢¼ç”Ÿæˆå®Œæˆ
5. æª¢æŸ¥ç”Ÿæˆçš„ `book_model.g.dart` å’Œ `download_status.g.dart` æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [x] å‘½ä»¤åŸ·è¡ŒæˆåŠŸï¼ˆ334 outputsç”Ÿæˆï¼‰
- [x] `book_model.g.dart` å·²æ›´æ–°ï¼ˆåŒ…å«12å€‹å­—æ®µï¼‰
- [x] `download_status.g.dart` å·²ç”Ÿæˆï¼ˆåŒ…å«5ç¨®ç‹€æ…‹ï¼‰
- [x] ç„¡ç·¨è­¯éŒ¯èª¤

---

#### âœ… Task 3.1.4: ç·¨å¯« Book æ¨¡å‹å–®å…ƒæ¸¬è©¦
- **æ–‡ä»¶**: `test/data/models/book_model_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ

**å…·é«”æ­¥é©Ÿ**:
1. âœ… å‰µå»ºæ¸¬è©¦æ–‡ä»¶ `test/data/models/book_model_test.dart`
2. âœ… æ¸¬è©¦ `fileSizeFormatted` getterï¼ˆæ”¯æŒ B/KB/MBï¼‰
3. âœ… æ¸¬è©¦ `isDownloaded` getterï¼ˆåŸºæ–¼ downloadStatusï¼‰
4. âœ… æ¸¬è©¦ `isDownloading` getterï¼ˆåŸºæ–¼ downloadStatusï¼‰
5. âœ… é‹è¡Œæ¸¬è©¦: `flutter test test/data/models/book_model_test.dart`

**é©—æ”¶æ¨™æº–**:
- [x] æ‰€æœ‰æ¸¬è©¦é€šéï¼ˆ34 å€‹æ¸¬è©¦å…¨éƒ¨é€šéï¼‰
- [x] è¦†è“‹æ‰€æœ‰ getter æ–¹æ³•
- [x] æ¸¬è©¦ downloadStatus å’Œ downloadProgress å­—æ®µ
- [x] æ¸¬è©¦æ–‡ä»¶å¤§å°æ ¼å¼åŒ–ï¼ˆB/KB/MBï¼‰
- [x] æ¸¬è©¦ä¸‹è¼‰ç‹€æ…‹åˆ¤æ–·é‚è¼¯

---

### Phase 3.2: å‰µå»º DownloadStatus æšèˆ‰ (30 åˆ†é˜)

#### âœ… Task 3.2.1: å‰µå»º DownloadStatus æšèˆ‰
- **æ–‡ä»¶**: `lib/data/models/download_status.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ–‡ä»¶ `lib/data/models/download_status.dart`
2. å®šç¾©æšèˆ‰:
   ```dart
   import 'package:hive/hive.dart';
   
   part 'download_status.g.dart';
   
   @HiveType(typeId: 1)
   enum DownloadStatus {
     @HiveField(0)
     notDownloaded,
     
     @HiveField(1)
     downloading,
     
     @HiveField(2)
     paused,
     
     @HiveField(3)
     downloaded,
     
     @HiveField(4)
     failed,
   }
   ```
3. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] æšèˆ‰å·²å‰µå»º
- [ ] æ‰€æœ‰ç‹€æ…‹å·²å®šç¾©
- [ ] Hive è¨»è§£æ­£ç¢º

---

#### âœ… Task 3.2.2: ç”Ÿæˆ DownloadStatus Adapter
- **å‘½ä»¤**: `flutter pub run build_runner build --delete-conflicting-outputs`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 5 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. é‹è¡Œå‘½ä»¤ç”Ÿæˆ adapter
2. æª¢æŸ¥ `download_status.g.dart` æ–‡ä»¶
3. ç¢ºä¿ç„¡ç·¨è­¯éŒ¯èª¤

**é©—æ”¶æ¨™æº–**:
- [ ] `download_status.g.dart` å·²ç”Ÿæˆ
- [ ] ç„¡ç·¨è­¯éŒ¯èª¤

---

#### âœ… Task 3.2.3: è¨»å†Š DownloadStatus Adapter
- **æ–‡ä»¶**: `lib/main.dart` æˆ–åˆå§‹åŒ–æ–‡ä»¶
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 10 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨ Hive åˆå§‹åŒ–ä»£ç¢¼ä¸­æ·»åŠ :
   ```dart
   Hive.registerAdapter(DownloadStatusAdapter());
   ```
2. ç¢ºä¿åœ¨ `Hive.initFlutter()` ä¹‹å¾Œèª¿ç”¨
3. æ¸¬è©¦æ‡‰ç”¨å•Ÿå‹•

**é©—æ”¶æ¨™æº–**:
- [ ] Adapter å·²è¨»å†Š
- [ ] æ‡‰ç”¨æ­£å¸¸å•Ÿå‹•
- [ ] ç„¡é‹è¡Œæ™‚éŒ¯èª¤

---

### Phase 3.3: å¯¦ç¾ DownloadService (2-3 å°æ™‚)

#### âœ… Task 3.3.1: å‰µå»º DownloadService é¡éª¨æ¶
- **æ–‡ä»¶**: `lib/data/services/download_service.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ–‡ä»¶ `lib/data/services/download_service.dart`
2. å‰µå»ºé¡éª¨æ¶:
   ```dart
   import 'package:dio/dio.dart';
   import 'package:path_provider/path_provider.dart';
   import 'dart:io';
   
   class DownloadService {
     final Dio _dio;
     final Map<String, CancelToken> _cancelTokens = {};
     
     DownloadService(this._dio);
     
     // æ–¹æ³•ç°½å
     Future<String> downloadBook({...}) async {}
     void cancelDownload(String bookId) {}
     Future<void> deleteBook(String localPath) async {}
   }
   ```
3. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] é¡éª¨æ¶å·²å‰µå»º
- [ ] ä¾è³´å·²æ³¨å…¥

---

#### âœ… Task 3.3.2: å¯¦ç¾ downloadBook æ–¹æ³•
- **æ–‡ä»¶**: `lib/data/services/download_service.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 45 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾ç²å–æ‡‰ç”¨ç›®éŒ„é‚è¼¯
2. å‰µå»º books å­ç›®éŒ„
3. å¯¦ç¾ Dio ä¸‹è¼‰é‚è¼¯
4. å¯¦ç¾é€²åº¦å›èª¿
5. å¯¦ç¾éŒ¯èª¤è™•ç†
6. å®Œæ•´ä»£ç¢¼åƒè€ƒ `03-book-detail.md` ç¬¬ 270-330 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] ä¸‹è¼‰é‚è¼¯æ­£ç¢º
- [ ] é€²åº¦å›èª¿æ­£å¸¸å·¥ä½œ
- [ ] éŒ¯èª¤è™•ç†å®Œå–„

---

#### âœ… Task 3.3.3: å¯¦ç¾ cancelDownload æ–¹æ³•
- **æ–‡ä»¶**: `lib/data/services/download_service.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾å–æ¶ˆé‚è¼¯:
   ```dart
   void cancelDownload(String bookId) {
     final cancelToken = _cancelTokens[bookId];
     if (cancelToken != null && !cancelToken.isCancelled) {
       cancelToken.cancel('ç”¨æˆ¶å–æ¶ˆä¸‹è¼‰');
       _cancelTokens.remove(bookId);
     }
   }
   ```
2. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] å–æ¶ˆé‚è¼¯æ­£ç¢º
- [ ] CancelToken æ­£ç¢ºæ¸…ç†

---

#### âœ… Task 3.3.4: å¯¦ç¾ deleteBook æ–¹æ³•
- **æ–‡ä»¶**: `lib/data/services/download_service.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾åˆªé™¤é‚è¼¯:
   ```dart
   Future<void> deleteBook(String localPath) async {
     try {
       final file = File(localPath);
       if (await file.exists()) {
         await file.delete();
       }
     } catch (e) {
       throw DeletionFailedException('åˆªé™¤å¤±æ•—: $e');
     }
   }
   ```
2. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] åˆªé™¤é‚è¼¯æ­£ç¢º
- [ ] éŒ¯èª¤è™•ç†å®Œå–„

---

#### âœ… Task 3.3.5: å‰µå»ºè‡ªå®šç¾©ç•°å¸¸é¡
- **æ–‡ä»¶**: `lib/data/services/download_service.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 10 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨åŒä¸€æ–‡ä»¶åº•éƒ¨æ·»åŠ :
   ```dart
   class DownloadCancelledException implements Exception {
     final String message;
     DownloadCancelledException(this.message);
   }
   
   class DownloadFailedException implements Exception {
     final String message;
     DownloadFailedException(this.message);
   }
   
   class DeletionFailedException implements Exception {
     final String message;
     DeletionFailedException(this.message);
   }
   ```
2. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] ç•°å¸¸é¡å·²å‰µå»º
- [ ] ç•°å¸¸æœ‰æ˜ç¢ºçš„éŒ¯èª¤æ¶ˆæ¯

---

#### âœ… Task 3.3.6: ç·¨å¯« DownloadService å–®å…ƒæ¸¬è©¦
- **æ–‡ä»¶**: `test/data/services/download_service_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 40 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ¸¬è©¦æ–‡ä»¶
2. Mock Dio ä¾è³´
3. æ¸¬è©¦ `downloadBook` æˆåŠŸå ´æ™¯
4. æ¸¬è©¦ `downloadBook` å¤±æ•—å ´æ™¯
5. æ¸¬è©¦ `cancelDownload`
6. æ¸¬è©¦ `deleteBook`
7. é‹è¡Œæ¸¬è©¦

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] è¦†è“‹ä¸»è¦å ´æ™¯

---

### Phase 3.4: æ›´æ–° BookRepository (30 åˆ†é˜)

#### âœ… Task 3.4.1: æ·»åŠ  updateBook æ–¹æ³•
- **æ–‡ä»¶**: `lib/data/repositories/book_repository.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ‰“é–‹ `book_repository.dart`
2. æ·»åŠ æ–¹æ³•:
   ```dart
   Future<void> updateBook(Book book) async {
     final box = await Hive.openBox<Book>('books');
     await book.save();  // HiveObject çš„å…§ç½®æ–¹æ³•
   }
   ```
3. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] æ–¹æ³•å·²æ·»åŠ 
- [ ] ä½¿ç”¨ HiveObject çš„ save æ–¹æ³•

---

#### âœ… Task 3.4.2: æ¸¬è©¦ updateBook æ–¹æ³•
- **æ–‡ä»¶**: `test/data/repositories/book_repository_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 10 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ·»åŠ æ¸¬è©¦ç”¨ä¾‹
2. é©—è­‰æ›´æ–°åŠŸèƒ½
3. é‹è¡Œæ¸¬è©¦

**é©—æ”¶æ¨™æº–**:
- [ ] æ¸¬è©¦é€šé
- [ ] æ›´æ–°é‚è¼¯æ­£ç¢º

---

## ğŸ“… Day 2: æ§åˆ¶å™¨èˆ‡é é¢å¯¦ç¾ (5-6 å°æ™‚)

### Phase 3.5: å¯¦ç¾ BookDetailController (2-3 å°æ™‚)

#### âœ… Task 3.5.1: å‰µå»º Controller éª¨æ¶
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ–‡ä»¶
2. å‰µå»ºé¡éª¨æ¶:
   ```dart
   import 'package:get/get.dart';
   import '../../data/models/book.dart';
   import '../../data/services/download_service.dart';
   import '../../data/repositories/book_repository.dart';
   
   class BookDetailController extends GetxController {
     final DownloadService _downloadService;
     final BookRepository _bookRepository;
     
     BookDetailController(this._downloadService, this._bookRepository);
     
     late Rx<Book> book;
     
     @override
     void onInit() {
       super.onInit();
       book = Rx<Book>(Get.arguments as Book);
     }
     
     // æ–¹æ³•ç°½å
     Future<void> startDownload() async {}
     void pauseDownload() {}
     Future<void> cancelDownload() async {}
     Future<void> deleteBook() async {}
     void openReader() {}
   }
   ```
3. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] éª¨æ¶å·²å‰µå»º
- [ ] ä¾è³´å·²æ³¨å…¥
- [ ] onInit æ­£ç¢ºå¯¦ç¾

---

#### âœ… Task 3.5.2: å¯¦ç¾ startDownload æ–¹æ³•
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 40 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾ä¸‹è¼‰é‚è¼¯ï¼ˆåƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 344-381 è¡Œï¼‰
2. æ›´æ–°ä¸‹è¼‰ç‹€æ…‹
3. è™•ç†é€²åº¦å›èª¿
4. è™•ç†ä¸‹è¼‰å®Œæˆ
5. è™•ç†éŒ¯èª¤æƒ…æ³
6. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] ä¸‹è¼‰ç‹€æ…‹æ­£ç¢ºæ›´æ–°
- [ ] é€²åº¦å¯¦æ™‚æ›´æ–°
- [ ] å®Œæˆå¾Œæ›´æ–° Hive
- [ ] éŒ¯èª¤è™•ç†å®Œå–„

---

#### âœ… Task 3.5.3: å¯¦ç¾ pauseDownload æ–¹æ³•
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 10 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. èª¿ç”¨ DownloadService çš„ cancelDownload
2. æ›´æ–°ç‹€æ…‹ç‚º paused
3. ä¿å­˜åˆ° Hive
4. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] æš«åœé‚è¼¯æ­£ç¢º
- [ ] ç‹€æ…‹æ­£ç¢ºä¿å­˜

---

#### âœ… Task 3.5.4: å¯¦ç¾ cancelDownload æ–¹æ³•
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å–æ¶ˆä¸‹è¼‰
2. åˆªé™¤éƒ¨åˆ†æ–‡ä»¶
3. é‡ç½®ç‹€æ…‹
4. ä¿å­˜åˆ° Hive
5. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] å–æ¶ˆé‚è¼¯æ­£ç¢º
- [ ] éƒ¨åˆ†æ–‡ä»¶å·²åˆªé™¤
- [ ] ç‹€æ…‹å·²é‡ç½®

---

#### âœ… Task 3.5.5: å¯¦ç¾ deleteBook æ–¹æ³•
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾ç¢ºèªå°è©±æ¡†é‚è¼¯
2. èª¿ç”¨ DownloadService åˆªé™¤æ–‡ä»¶
3. æ›´æ–°æ›¸ç±ç‹€æ…‹
4. é¡¯ç¤ºæˆåŠŸ/å¤±æ•—æç¤º
5. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] ç¢ºèªå°è©±æ¡†æ­£ç¢ºé¡¯ç¤º
- [ ] åˆªé™¤é‚è¼¯æ­£ç¢º
- [ ] ç‹€æ…‹æ­£ç¢ºæ›´æ–°

---

#### âœ… Task 3.5.6: å¯¦ç¾ openReader æ–¹æ³•
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 10 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æª¢æŸ¥ localPath æ˜¯å¦å­˜åœ¨
2. è·³è½‰åˆ°é–±è®€å™¨é é¢
3. å‚³éæ›¸ç±æ•¸æ“š
4. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] è·³è½‰é‚è¼¯æ­£ç¢º
- [ ] åƒæ•¸æ­£ç¢ºå‚³é

---

#### âœ… Task 3.5.7: ç·¨å¯« Controller å–®å…ƒæ¸¬è©¦
- **æ–‡ä»¶**: `test/presentation/controllers/book_detail_controller_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 50 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ¸¬è©¦æ–‡ä»¶
2. Mock ä¾è³´
3. æ¸¬è©¦æ‰€æœ‰æ–¹æ³•ï¼ˆåƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 646-726 è¡Œï¼‰
4. é‹è¡Œæ¸¬è©¦

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] è¦†è“‹ä¸»è¦å ´æ™¯

---

### Phase 3.6: å¯¦ç¾ BookDetailPage (3 å°æ™‚)

#### âœ… Task 3.6.1: å‰µå»ºé é¢éª¨æ¶
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ–‡ä»¶
2. å‰µå»º GetView éª¨æ¶:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:get/get.dart';
   import '../controllers/book_detail_controller.dart';
   
   class BookDetailPage extends GetView<BookDetailController> {
     const BookDetailPage({Key? key}) : super(key: key);
     
     @override
     Widget build(BuildContext context) {
       return Scaffold(
         appBar: AppBar(title: Text('æ›¸ç±è©³æƒ…')),
         body: Obx(() => _buildBody()),
       );
     }
     
     Widget _buildBody() {
       return SingleChildScrollView(
         child: Column(children: []),
       );
     }
   }
   ```
3. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] éª¨æ¶å·²å‰µå»º
- [ ] Scaffold çµæ§‹æ­£ç¢º

---

#### âœ… Task 3.6.2: å¯¦ç¾å°é¢åœ–ç‰‡çµ„ä»¶
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º `_buildCoverImage` æ–¹æ³•
2. å¯¦ç¾ Hero å‹•ç•«
3. ä½¿ç”¨ CachedNetworkImage
4. æ·»åŠ ä½”ä½ç¬¦å’ŒéŒ¯èª¤è™•ç†
5. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 517-542 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] Hero å‹•ç•«æ­£å¸¸
- [ ] åœ–ç‰‡æ­£ç¢ºé¡¯ç¤º
- [ ] ä½”ä½ç¬¦å’ŒéŒ¯èª¤è™•ç†å®Œå–„

---

#### âœ… Task 3.6.3: å¯¦ç¾æ›¸ç±ä¿¡æ¯å€åŸŸ
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 25 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨ Column ä¸­æ·»åŠ æ›¸åã€ä½œè€…ã€å…ƒæ•¸æ“š
2. è¨­ç½®æ­£ç¢ºçš„æ¨£å¼å’Œé–“è·
3. æ·»åŠ æè¿°å€åŸŸï¼ˆå¦‚æœæœ‰ï¼‰
4. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 469-514 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] æ›¸åæ­£ç¢ºé¡¯ç¤º
- [ ] ä½œè€…æ­£ç¢ºé¡¯ç¤º
- [ ] èªè¨€å’Œæ–‡ä»¶å¤§å°æ­£ç¢ºé¡¯ç¤º
- [ ] æè¿°æ­£ç¢ºé¡¯ç¤º

---

#### âœ… Task 3.6.4: å¯¦ç¾ä¸‹è¼‰æŒ‰éˆ•ï¼ˆæœªä¸‹è¼‰ç‹€æ…‹ï¼‰
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º `_buildDownloadButton` æ–¹æ³•
2. å¯¦ç¾æŒ‰éˆ•æ¨£å¼
3. ç¶å®š onPressed äº‹ä»¶
4. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 555-568 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] æŒ‰éˆ•æ¨£å¼æ­£ç¢º
- [ ] é»æ“Šè§¸ç™¼ä¸‹è¼‰

---

#### âœ… Task 3.6.5: å¯¦ç¾ä¸‹è¼‰ä¸­çµ„ä»¶
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 25 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º `_buildDownloadingWidget` æ–¹æ³•
2. å¯¦ç¾é€²åº¦æ¢
3. é¡¯ç¤ºç™¾åˆ†æ¯”
4. æ·»åŠ æš«åœå’Œå–æ¶ˆæŒ‰éˆ•
5. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 570-593 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] é€²åº¦æ¢å¯¦æ™‚æ›´æ–°
- [ ] ç™¾åˆ†æ¯”é¡¯ç¤ºæ­£ç¢º
- [ ] æš«åœå’Œå–æ¶ˆæŒ‰éˆ•æ­£å¸¸å·¥ä½œ

---

#### âœ… Task 3.6.6: å¯¦ç¾å·²ä¸‹è¼‰çµ„ä»¶
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º `_buildDownloadedButtons` æ–¹æ³•
2. å¯¦ç¾ã€Œæ‰“é–‹é–±è®€ã€æŒ‰éˆ•
3. å¯¦ç¾ã€Œåˆªé™¤æ›¸ç±ã€æŒ‰éˆ•
4. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 619-641 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] ã€Œæ‰“é–‹é–±è®€ã€æŒ‰éˆ•æ­£å¸¸
- [ ] ã€Œåˆªé™¤æ›¸ç±ã€æŒ‰éˆ•æ­£å¸¸
- [ ] æ¨£å¼æ­£ç¢º

---

#### âœ… Task 3.6.7: å¯¦ç¾ç‹€æ…‹åˆ‡æ›é‚è¼¯
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º `_buildActionButtons` æ–¹æ³•
2. æ ¹æ“š downloadStatus é¡¯ç¤ºä¸åŒçµ„ä»¶
3. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 544-553 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] ç‹€æ…‹åˆ‡æ›æ­£ç¢º
- [ ] é¡¯ç¤ºå°æ‡‰çš„ UI

---

#### âœ… Task 3.6.8: å¯¦ç¾æš«åœç‹€æ…‹çµ„ä»¶
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º `_buildPausedWidget` æ–¹æ³•
2. é¡¯ç¤ºé€²åº¦æ¢ï¼ˆæ©™è‰²ï¼‰
3. æ·»åŠ ã€Œç¹¼çºŒã€å’Œã€Œå–æ¶ˆã€æŒ‰éˆ•
4. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 595-617 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] æš«åœç‹€æ…‹ UI æ­£ç¢º
- [ ] ç¹¼çºŒæŒ‰éˆ•æ­£å¸¸å·¥ä½œ

---

#### âœ… Task 3.6.9: æ·»åŠ è·¯ç”±é…ç½®
- **æ–‡ä»¶**: `lib/routes/app_routes.dart` æˆ–ç›¸æ‡‰è·¯ç”±æ–‡ä»¶
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 10 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ·»åŠ è·¯ç”±:
   ```dart
   GetPage(
     name: '/book-detail',
     page: () => BookDetailPage(),
     binding: BindingsBuilder(() {
       Get.lazyPut(() => BookDetailController(
         Get.find<DownloadService>(),
         Get.find<BookRepository>(),
       ));
     }),
   ),
   ```
2. ä¿å­˜æ–‡ä»¶

**é©—æ”¶æ¨™æº–**:
- [ ] è·¯ç”±å·²æ·»åŠ 
- [ ] ä¾è³´æ³¨å…¥æ­£ç¢º

---

#### âœ… Task 3.6.10: ç·¨å¯« Widget æ¸¬è©¦
- **æ–‡ä»¶**: `test/presentation/pages/book_detail_page_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 40 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ¸¬è©¦æ–‡ä»¶
2. æ¸¬è©¦æ›¸ç±ä¿¡æ¯é¡¯ç¤º
3. æ¸¬è©¦ä¸åŒç‹€æ…‹çš„ UI
4. æ¸¬è©¦æŒ‰éˆ•äº¤äº’
5. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 728-807 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] è¦†è“‹ä¸»è¦ UI å ´æ™¯

---

## ğŸ“… Day 3: é›†æˆæ¸¬è©¦èˆ‡å„ªåŒ– (4-5 å°æ™‚)

### Phase 3.7: é›†æˆæ¸¬è©¦ (2 å°æ™‚)

#### âœ… Task 3.7.1: å‰µå»ºé›†æˆæ¸¬è©¦æ–‡ä»¶
- **æ–‡ä»¶**: `integration_test/book_detail_flow_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ–‡ä»¶
2. è¨­ç½®æ¸¬è©¦ç’°å¢ƒ
3. å‰µå»ºæ¸¬è©¦éª¨æ¶

**é©—æ”¶æ¨™æº–**:
- [ ] æ–‡ä»¶å·²å‰µå»º
- [ ] æ¸¬è©¦ç’°å¢ƒå·²è¨­ç½®

---

#### âœ… Task 3.7.2: ç·¨å¯«å®Œæ•´ä¸‹è¼‰æµç¨‹æ¸¬è©¦
- **æ–‡ä»¶**: `integration_test/book_detail_flow_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 40 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ¸¬è©¦å¾åˆ—è¡¨é€²å…¥è©³æƒ…é 
2. æ¸¬è©¦é»æ“Šä¸‹è¼‰
3. æ¸¬è©¦ä¸‹è¼‰é€²åº¦é¡¯ç¤º
4. æ¸¬è©¦ä¸‹è¼‰å®Œæˆ
5. æ¸¬è©¦æ‰“é–‹é–±è®€
6. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 813-835 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] å®Œæ•´æµç¨‹æ¸¬è©¦é€šé
- [ ] æ‰€æœ‰æ­¥é©Ÿé©—è­‰æ­£ç¢º

---

#### âœ… Task 3.7.3: ç·¨å¯«å–æ¶ˆä¸‹è¼‰æ¸¬è©¦
- **æ–‡ä»¶**: `integration_test/book_detail_flow_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. é–‹å§‹ä¸‹è¼‰
2. é»æ“Šå–æ¶ˆ
3. é©—è­‰å›åˆ°æœªä¸‹è¼‰ç‹€æ…‹
4. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 837-852 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] å–æ¶ˆæµç¨‹æ­£ç¢º
- [ ] ç‹€æ…‹æ­£ç¢ºé‡ç½®

---

#### âœ… Task 3.7.4: ç·¨å¯«åˆªé™¤æ›¸ç±æ¸¬è©¦
- **æ–‡ä»¶**: `integration_test/book_detail_flow_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‡è¨­æ›¸ç±å·²ä¸‹è¼‰
2. é»æ“Šåˆªé™¤
3. ç¢ºèªåˆªé™¤
4. é©—è­‰å›åˆ°æœªä¸‹è¼‰ç‹€æ…‹
5. åƒè€ƒè¦æ ¼æ–‡æª”ç¬¬ 854-869 è¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] åˆªé™¤æµç¨‹æ­£ç¢º
- [ ] ç¢ºèªå°è©±æ¡†é¡¯ç¤º

---

#### âœ… Task 3.7.5: é‹è¡Œé›†æˆæ¸¬è©¦
- **å‘½ä»¤**: `flutter test integration_test/book_detail_flow_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 25 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. é‹è¡Œæ¸¬è©¦å‘½ä»¤
2. æŸ¥çœ‹æ¸¬è©¦çµæœ
3. ä¿®å¾©å¤±æ•—çš„æ¸¬è©¦
4. é‡æ–°é‹è¡Œç›´åˆ°å…¨éƒ¨é€šé

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰é›†æˆæ¸¬è©¦é€šé

---

### Phase 3.8: UI å„ªåŒ– (1-2 å°æ™‚)

#### âœ… Task 3.8.1: å„ªåŒ–å‹•ç•«æ•ˆæœ
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. èª¿æ•´ Hero å‹•ç•«æ™‚é•·
2. å„ªåŒ–é€²åº¦æ¢å‹•ç•«
3. æ·»åŠ ç‹€æ…‹åˆ‡æ›éæ¸¡å‹•ç•«
4. æ¸¬è©¦å‹•ç•«æµæš¢åº¦

**é©—æ”¶æ¨™æº–**:
- [ ] Hero å‹•ç•«æµæš¢
- [ ] é€²åº¦æ¢æ›´æ–°å¹³æ»‘
- [ ] ç‹€æ…‹åˆ‡æ›æœ‰éæ¸¡

---

#### âœ… Task 3.8.2: å„ªåŒ–ä½ˆå±€å’Œé–“è·
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. èª¿æ•´å„å…ƒç´ é–“è·
2. ç¢ºä¿åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹æ­£å¸¸é¡¯ç¤º
3. æ¸¬è©¦æ©«å±ä½ˆå±€ï¼ˆå¯é¸ï¼‰

**é©—æ”¶æ¨™æº–**:
- [ ] é–“è·ç¬¦åˆè¨­è¨ˆè¦ç¯„
- [ ] éŸ¿æ‡‰å¼ä½ˆå±€æ­£å¸¸

---

#### âœ… Task 3.8.3: å„ªåŒ–é¡è‰²å’Œå­—é«”
- **æ–‡ä»¶**: `lib/presentation/pages/book_detail_page.dart`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. ç¢ºä¿é¡è‰²ç¬¦åˆè¨­è¨ˆè¦ç¯„
2. èª¿æ•´å­—é«”å¤§å°
3. æ¸¬è©¦æ·±è‰²æ¨¡å¼ï¼ˆå¯é¸ï¼‰

**é©—æ”¶æ¨™æº–**:
- [ ] é¡è‰²æ­£ç¢º
- [ ] å­—é«”å¤§å°åˆé©
- [ ] æ·±è‰²æ¨¡å¼æ­£å¸¸ï¼ˆå¦‚æ”¯æŒï¼‰

---

### Phase 3.9: éŒ¯èª¤è™•ç†å„ªåŒ– (1 å°æ™‚)

#### âœ… Task 3.9.1: æ”¹é€²éŒ¯èª¤æç¤ºæ–‡æ¡ˆ
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯©æŸ¥æ‰€æœ‰éŒ¯èª¤æç¤º
2. æ”¹é€²æ–‡æ¡ˆï¼Œä½¿å…¶æ›´å‹å¥½
3. æ·»åŠ å¤šèªè¨€æ”¯æŒï¼ˆå¯é¸ï¼‰

**é©—æ”¶æ¨™æº–**:
- [ ] éŒ¯èª¤æç¤ºæ¸…æ™°å‹å¥½
- [ ] æä¾›æ˜ç¢ºçš„è§£æ±ºå»ºè­°

---

#### âœ… Task 3.9.2: æ·»åŠ ç¶²çµ¡æª¢æŸ¥
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨ startDownload å‰æª¢æŸ¥ç¶²çµ¡
2. ç„¡ç¶²çµ¡æ™‚ç¦ç”¨ä¸‹è¼‰æŒ‰éˆ•
3. é¡¯ç¤ºå‹å¥½æç¤º

**é©—æ”¶æ¨™æº–**:
- [ ] ç„¡ç¶²çµ¡æ™‚ç„¡æ³•ä¸‹è¼‰
- [ ] æç¤ºç”¨æˆ¶æª¢æŸ¥ç¶²çµ¡

---

#### âœ… Task 3.9.3: æ·»åŠ å­˜å„²ç©ºé–“æª¢æŸ¥
- **æ–‡ä»¶**: `lib/presentation/controllers/book_detail_controller.dart`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 20 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨ä¸‹è¼‰å‰æª¢æŸ¥å¯ç”¨ç©ºé–“
2. ç©ºé–“ä¸è¶³æ™‚æç¤ºç”¨æˆ¶
3. å»ºè­°æ¸…ç†ç©ºé–“

**é©—æ”¶æ¨™æº–**:
- [ ] ç©ºé–“ä¸è¶³æ™‚ç„¡æ³•ä¸‹è¼‰
- [ ] æç¤ºç”¨æˆ¶æ¸…ç†ç©ºé–“

---

#### âœ… Task 3.9.4: æ›´æ–° README
- **æ–‡ä»¶**: `README.md`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 10 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ·»åŠ  Spec 03 å®Œæˆè¨˜éŒ„
2. æ›´æ–°é€²åº¦
3. è¨˜éŒ„æ–°å¢ä¾è³´

**é©—æ”¶æ¨™æº–**:
- [ ] README å·²æ›´æ–°
- [ ] ä¿¡æ¯æº–ç¢º

---

#### âœ… Task 3.9.5: æˆªå–é é¢æˆªåœ–
- **æ–‡ä»¶**: ä¿å­˜åˆ° `design/screenshots/spec-03/`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 15 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæˆªåœ–ç›®éŒ„
2. æˆªå–æœªä¸‹è¼‰ç‹€æ…‹
3. æˆªå–ä¸‹è¼‰ä¸­ç‹€æ…‹
4. æˆªå–å·²ä¸‹è¼‰ç‹€æ…‹
5. æˆªå–éŒ¯èª¤ç‹€æ…‹

**é©—æ”¶æ¨™æº–**:
- [ ] è‡³å°‘ 4 å¼µæˆªåœ–
- [ ] è¦†è“‹æ‰€æœ‰ä¸»è¦ç‹€æ…‹

---

#### âœ… Task 3.9.6: è¨˜éŒ„å·²çŸ¥å•é¡Œ
- **æ–‡ä»¶**: `app/specs/03-book-detail.md`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 5 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åˆ—å‡ºé‡åˆ°çš„å•é¡Œ
2. è¨˜éŒ„è‡¨æ™‚è§£æ±ºæ–¹æ¡ˆ
3. æ¨™è¨˜å¾…å„ªåŒ–é …ç›®

**é©—æ”¶æ¨™æº–**:
- [ ] å·²çŸ¥å•é¡Œå·²è¨˜éŒ„
- [ ] æœ‰æ˜ç¢ºçš„å¾ŒçºŒè¨ˆåŠƒ

---

## âœ… æœ€çµ‚æª¢æŸ¥æ¸…å–®

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] æ‰€æœ‰ P0 ä»»å‹™å·²å®Œæˆ
- [ ] æ›¸ç±ä¿¡æ¯æ­£ç¢ºé¡¯ç¤º
- [ ] ä¸‹è¼‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] ç‹€æ…‹åˆ‡æ›æ­£ç¢º
- [ ] åˆªé™¤åŠŸèƒ½æ­£å¸¸

### æ¸¬è©¦è¦†è“‹
- [ ] å–®å…ƒæ¸¬è©¦é€šé
- [ ] Widget æ¸¬è©¦é€šé
- [ ] é›†æˆæ¸¬è©¦é€šé
- [ ] æ¸¬è©¦è¦†è“‹ç‡ > 70%

### ä»£ç¢¼è³ªé‡
- [ ] ç„¡ç·¨è­¯è­¦å‘Š
- [ ] ç„¡ lint éŒ¯èª¤
- [ ] ä»£ç¢¼æ ¼å¼æ­£ç¢º
- [ ] è¨»é‡‹å®Œæ•´

### æ€§èƒ½
- [ ] é é¢åŠ è¼‰ < 500ms
- [ ] Hero å‹•ç•«æµæš¢ (60fps)
- [ ] é€²åº¦æ›´æ–°ä¸å¡é “
- [ ] ç„¡å…§å­˜æ´©æ¼

### ç”¨æˆ¶é«”é©—
- [ ] UI ç¬¦åˆè¨­è¨ˆè¦ç¯„
- [ ] äº¤äº’æµæš¢
- [ ] éŒ¯èª¤æç¤ºå‹å¥½
- [ ] æ”¯æŒä¸åŒå±å¹•å°ºå¯¸

---

## ğŸ“Š é€²åº¦è¿½è¹¤

### å®Œæˆçµ±è¨ˆ
- **Day 1**: 4/8 ä»»å‹™å®Œæˆ (50%)
  - âœ… Task 3.1.1: æ·»åŠ æ–°å­—æ®µåˆ° Book æ¨¡å‹
  - âœ… Task 3.1.2: æ·»åŠ  Book æ¨¡å‹çš„è¼”åŠ©æ–¹æ³•
  - âœ… Task 3.1.3: é‡æ–°ç”Ÿæˆ Hive Adapters
  - âœ… Task 3.1.4: ç·¨å¯« Book æ¨¡å‹å–®å…ƒæ¸¬è©¦
- **Day 2**: 0/10 ä»»å‹™å®Œæˆ (0%)
- **Day 3**: 0/9 ä»»å‹™å®Œæˆ (0%)
- **ç¸½è¨ˆ**: 4/27 ä»»å‹™å®Œæˆ (15%)

### æ™‚é–“è¿½è¹¤
- **é è¨ˆç¸½æ™‚é–“**: 13-16 å°æ™‚
- **å¯¦éš›ä½¿ç”¨æ™‚é–“**: ~1.0 å°æ™‚
- **å‰©é¤˜æ™‚é–“**: 12-15 å°æ™‚

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡Œå‹•

å®Œæˆ Spec 03 å¾Œï¼š

1. **æ›´æ–°é–‹ç™¼è¨ˆåŠƒ**
   - æ¨™è¨˜ Spec 03 ç‚ºå·²å®Œæˆ âœ…
   - æ›´æ–°é€²åº¦è¡¨
   - è¨˜éŒ„å¯¦éš›å®Œæˆæ™‚é–“

2. **æº–å‚™ Spec 04**
   - åŸ·è¡Œ `/speckit.specify 04 reader-view`
   - å¯©æŸ¥è¦æ ¼æ–‡æª”
   - åŸ·è¡Œ `/speckit.tasks 04`

3. **ä»£ç¢¼å¯©æŸ¥**
   - è«‹æ±‚ä»£ç¢¼å¯©æŸ¥
   - è™•ç†å¯©æŸ¥æ„è¦‹
   - åˆä½µåˆ°ä¸»åˆ†æ”¯

---

**ä»»å‹™æ¸…å–®ç‰ˆæœ¬**: 1.0  
**å‰µå»ºæ—¥æœŸ**: 2025-11-07  
**æœ€å¾Œæ›´æ–°**: 2025-11-07  
**ç‹€æ…‹**: ğŸ“‹ å¾…åŸ·è¡Œ

---

**æç¤º**: æ¯å®Œæˆä¸€å€‹ä»»å‹™ï¼Œè«‹åœ¨ â¬œ è™•æ¨™è¨˜ç‚º âœ…ï¼Œä¸¦æ›´æ–°ã€Œé€²åº¦è¿½è¹¤ã€å€åŸŸï¼ğŸ’ª
