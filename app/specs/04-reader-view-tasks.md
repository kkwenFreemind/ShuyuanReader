# Spec 04: EPUB é–±è®€å™¨ - ä»»å‹™æ¸…å–®

**ç‹€æ…‹**: ğŸ“‹ è¦åŠƒä¸­  
**å„ªå…ˆç´š**: P0 (æ ¸å¿ƒåŠŸèƒ½)  
**é è¨ˆæ™‚é–“**: 5-6 å¤© (38-42 å°æ™‚)  
**é–‹å§‹æ—¥æœŸ**: å¾…å®š  
**å®Œæˆæ—¥æœŸ**: å¾…å®š

---

## ğŸ“Š ä»»å‹™ç¸½è¦½

| éšæ®µ | ä»»å‹™æ•¸ | é è¨ˆæ™‚é–“ | å®Œæˆæ•¸ | ç‹€æ…‹ |
|------|--------|----------|--------|------|
| **Day 1-2: åŸºç¤æ¸²æŸ“ (Phase 4.1-4.4)** | 8 | 7h | 5 | ğŸš§ |
| **Day 3: ç›´æ›¸æ¨¡å¼ (Phase 4.5-4.6)** | 7 | 6.5h | 0 | â¬œ |
| **Day 4: é–±è®€è¨­ç½® (Phase 4.7-4.8)** | 6 | 5.2h | 0 | â¬œ |
| **Day 4-5: æ›¸ç±¤åŠŸèƒ½ (Phase 4.9)** | 7 | 4.5h | 0 | â¬œ |
| **Day 5: æ•´åˆæ¸¬è©¦ (Phase 4.10-4.11)** | 8 | 9h | 0 | â¬œ |
| **Day 6: æ–‡æª”ç™¼å¸ƒ (Phase 4.12)** | 7 | 6h | 0 | â¬œ |
| **ç¸½è¨ˆ** | **43** | **38-42h** | **5** | **11.6%** |

---

## ğŸ“… Day 1-2: åŸºç¤æ¸²æŸ“å¯¦ç¾ (7 å°æ™‚)

### Phase 4.1: å°ˆæ¡ˆæ¶æ§‹æ­å»º (0.5 å°æ™‚)

#### âœ… Task 4.1.1: å‰µå»º Reader æ¨¡å¡Šç›®éŒ„çµæ§‹
- **æ–‡ä»¶**: ç›®éŒ„çµæ§‹
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **å®Œæˆæ™‚é–“**: 2025-01-XX
- **å¯¦éš›ç”¨æ™‚**: 30 åˆ†é˜

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º Reader æ¨¡å¡Šçš„å®Œæ•´ç›®éŒ„çµæ§‹
2. æŒ‰ç…§ Clean Architecture çµ„ç¹”æ–‡ä»¶
3. ç¢ºä¿ç¬¦åˆå°ˆæ¡ˆè¦ç¯„

**ç”¢å‡ºçµæ§‹**:
```
lib/
â”œâ”€â”€ presentation/
â”‚   â”œâ”€â”€ pages/reader/
â”‚   â”‚   â””â”€â”€ reader_page.dart
â”‚   â”œâ”€â”€ controllers/reader/
â”‚   â”‚   â””â”€â”€ reader_controller.dart
â”‚   â””â”€â”€ widgets/reader/
â”‚       â”œâ”€â”€ epub_viewer_widget.dart
â”‚       â”œâ”€â”€ reading_toolbar.dart
â”‚       â”œâ”€â”€ reading_progress_bar.dart
â”‚       â””â”€â”€ reading_settings_panel.dart
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ entities/reader/
â”‚   â”‚   â”œâ”€â”€ reading_progress.dart
â”‚   â”‚   â”œâ”€â”€ reader_settings.dart
â”‚   â”‚   â””â”€â”€ reading_direction.dart
â”‚   â””â”€â”€ usecases/reader/
â”‚       â”œâ”€â”€ get_reading_progress.dart
â”‚       â”œâ”€â”€ save_reading_progress.dart
â”‚       â”œâ”€â”€ toggle_bookmark.dart
â”‚       â””â”€â”€ update_reader_settings.dart
â””â”€â”€ data/
    â”œâ”€â”€ models/reader/
    â”‚   â”œâ”€â”€ reading_progress_model.dart
    â”‚   â””â”€â”€ reader_settings_model.dart
    â”œâ”€â”€ datasources/reader/
    â”‚   â”œâ”€â”€ reading_local_data_source.dart
    â”‚   â””â”€â”€ epub_parser.dart
    â””â”€â”€ repositories/reader/
        â””â”€â”€ reading_repository_impl.dart
```

**äº¤ä»˜ç‰©**:
- âœ… 8 å€‹ç›®éŒ„å·²å‰µå»º (éµå¾ª Clean Architecture)
- âœ… 18 å€‹å¸¶æ–‡æª”çš„ä½”ä½æ–‡ä»¶å·²å‰µå»º
- âœ… æ‰€æœ‰æ–‡ä»¶åŒ…å«ä¸­æ–‡æ–‡æª”èˆ‡ TODO æ³¨é‡‹
- âœ… æ¸…æ™°çš„ä»»å‹™éˆæ¥ä¾¿æ–¼å¾ŒçºŒå¯¦ç¾

**é©—æ”¶æ¨™æº–**:
- [x] ç›®éŒ„çµæ§‹å®Œæ•´
- [x] ç¬¦åˆå°ˆæ¡ˆè¦ç¯„
- [x] ç„¡å‘½åéŒ¯èª¤

---

### Phase 4.2: EPUB åŒ…é›†æˆ (0.7 å°æ™‚)

#### âœ… Task 4.2.1: æ·»åŠ  epub_view ä¾è³´
- **æ–‡ä»¶**: `pubspec.yaml`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 12 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **å®Œæˆæ™‚é–“**: 2025-11-08
- **å¯¦éš›ç”¨æ™‚**: 12 åˆ†é˜

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨ `pubspec.yaml` æ·»åŠ ä¾è³´:
   ```yaml
   dependencies:
     epub_view: ^3.1.0
     screen_brightness: ^0.2.2+1  # ç”¨æ–¼äº®åº¦èª¿æ•´
   ```
2. é‹è¡Œ `flutter pub get`
3. é©—è­‰ä¾è³´å®‰è£æˆåŠŸ

**äº¤ä»˜ç‰©**:
- âœ… `epub_view: ^3.1.0` å·²æ·»åŠ åˆ° pubspec.yaml
- âœ… `screen_brightness: ^0.2.2+1` å·²æ·»åŠ åˆ° pubspec.yaml
- âœ… ä¾è³´åŒ…æˆåŠŸä¸‹è¼‰ä¸¦å®‰è£
- âœ… ç„¡ç‰ˆæœ¬è¡çª
- âœ… ç„¡ç·¨è­¯éŒ¯èª¤

**é©—æ”¶æ¨™æº–**:
- [x] ä¾è³´æˆåŠŸå®‰è£
- [x] ç„¡ç‰ˆæœ¬è¡çª
- [x] ç„¡ç·¨è­¯éŒ¯èª¤

---

#### âœ… Task 4.2.2: æ¸¬è©¦ epub_view åŸºæœ¬åŠŸèƒ½
- **æ–‡ä»¶**: `test/epub_view_test.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **å®Œæˆæ™‚é–“**: 2025-11-08
- **å¯¦éš›ç”¨æ™‚**: 30 åˆ†é˜

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºç°¡å–®çš„æ¸¬è©¦é é¢
2. é©—è­‰ epub_view èƒ½æ­£å¸¸å·¥ä½œ
3. æ¸¬è©¦æ‰“é–‹ä¸¦æ¸²æŸ“ EPUB æ–‡ä»¶

**äº¤ä»˜ç‰©**:
- âœ… å‰µå»º `test/epub_view_test.dart` æ¸¬è©¦æ–‡ä»¶
- âœ… æ¸¬è©¦ EpubController é¡å¯ä»¥è¨ªå•
- âœ… æ¸¬è©¦ EpubView Widget é¡å¯ä»¥è¨ªå•
- âœ… é©—è­‰ epub_view åŒ…æ­£ç¢ºå®‰è£
- âœ… æ‰€æœ‰æ¸¬è©¦é€šéï¼ˆ7/7 tests passedï¼‰
- âœ… æä¾› epub_view ä½¿ç”¨æŒ‡å—

**æ¸¬è©¦çµæœ**:
```
âœ“ EpubController é¡å¯ä»¥è¨ªå•
âœ“ EpubView Widget é¡å¯ä»¥è¨ªå•
âœ“ epub_view åŒ…å·²æˆåŠŸå®‰è£ä¸¦å¯ä»¥è¨ªå•
âœ“ æ‰€æœ‰ epub_view æ ¸å¿ƒçµ„ä»¶éƒ½å¯ä»¥æ­£å¸¸è¨ªå•
âœ“ åŸºæœ¬ä½¿ç”¨æŒ‡å—å·²è¼¸å‡º
```

**é©—æ”¶æ¨™æº–**:
- [x] epub_view åŒ…å¯ä»¥æ­£å¸¸å°å…¥
- [x] EpubController å’Œ EpubView é¡å¯ä»¥è¨ªå•
- [x] ç„¡é‹è¡Œæ™‚éŒ¯èª¤
- [x] æ¸¬è©¦é€šé

---

### Phase 4.3: å¯¦é«”é¡å‰µå»º (1.2 å°æ™‚)

#### âœ… Task 4.3.1: å‰µå»º ReadingProgress å¯¦é«”
- **æ–‡ä»¶**: `lib/domain/entities/reader/reading_progress.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **å®Œæˆæ™‚é–“**: 2025-11-08
- **å¯¦éš›ç”¨æ™‚**: 30 åˆ†é˜

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º ReadingProgress é¡
2. å®šç¾©æ‰€æœ‰å¿…è¦å­—æ®µ:
   ```dart
   class ReadingProgress extends Equatable {
     final String bookId;
     final int currentPage;
     final List<int> bookmarkedPages;
     final DateTime lastReadTime;
     final String? epubCfi;
     final int? totalPages;
     // å®Œæ•´å¯¦ç¾è¦‹ä»£ç¢¼æ–‡ä»¶
   }
   ```
3. æ·»åŠ å¿…è¦çš„æ–¹æ³•

**äº¤ä»˜ç‰©**:
- âœ… ReadingProgress å¯¦é«”é¡ï¼ˆ214 è¡Œä»£ç¢¼ï¼‰
- âœ… ç¹¼æ‰¿ Equatable å¯¦ç¾å€¼æ¯”è¼ƒ
- âœ… å®Œæ•´çš„å­—æ®µå®šç¾©ï¼ˆ6 å€‹å­—æ®µï¼‰
- âœ… æ›¸ç±¤ç®¡ç†æ–¹æ³•ï¼ˆisBookmarked, toggleBookmark, addBookmark, removeBookmarkï¼‰
- âœ… é€²åº¦æ›´æ–°æ–¹æ³•ï¼ˆupdatePositionï¼‰
- âœ… é€²åº¦è¨ˆç®—æ–¹æ³•ï¼ˆprogressPercentage, progressPercentï¼‰
- âœ… ç‹€æ…‹æª¢æŸ¥æ–¹æ³•ï¼ˆisCompleted, isJustStartedï¼‰
- âœ… copyWith æ–¹æ³•å¯¦ç¾ä¸å¯è®Šæ€§
- âœ… toString æ–¹æ³•ç”¨æ–¼èª¿è©¦
- âœ… å®Œæ•´çš„å–®å…ƒæ¸¬è©¦ï¼ˆ27 å€‹æ¸¬è©¦ç”¨ä¾‹å…¨éƒ¨é€šéï¼‰

**å¯¦ç¾ç‰¹é»**:
- éµå¾ª Clean Architecture åŸå‰‡ï¼ˆç´”é ˜åŸŸå¯¦é«”ï¼‰
- ä¸å¯è®Šå°è±¡è¨­è¨ˆï¼ˆImmutableï¼‰
- å®Œæ•´çš„æ–‡æª”è¨»é‡‹
- é¡å‹å®‰å…¨çš„ null è™•ç†
- æ›¸ç±¤åˆ—è¡¨è‡ªå‹•æ’åº
- æ™‚é–“æˆ³è‡ªå‹•æ›´æ–°

**æ¸¬è©¦è¦†è“‹**:
```
âœ“ æ§‹é€ å‡½æ•¸æ¸¬è©¦ (2 tests)
âœ“ æ›¸ç±¤åŠŸèƒ½æ¸¬è©¦ (9 tests)
âœ“ é€²åº¦æ›´æ–°æ¸¬è©¦ (3 tests)
âœ“ é€²åº¦è¨ˆç®—æ¸¬è©¦ (4 tests)
âœ“ ç‹€æ…‹æª¢æŸ¥æ¸¬è©¦ (4 tests)
âœ“ copyWith æ¸¬è©¦ (2 tests)
âœ“ Equatable æ¸¬è©¦ (2 tests)
âœ“ toString æ¸¬è©¦ (1 test)
Total: 27/27 tests passed
```

**é©—æ”¶æ¨™æº–**:
- [x] é¡çµæ§‹å®Œæ•´
- [x] æ‰€æœ‰å­—æ®µå®šç¾©æ­£ç¢º
- [x] åŒ…å«å¿…è¦çš„è¼”åŠ©æ–¹æ³•
- [x] å–®å…ƒæ¸¬è©¦å…¨éƒ¨é€šé
- [x] ç„¡ç·¨è­¯éŒ¯èª¤

---

#### âœ… Task 4.3.2: å‰µå»º ReaderSettings å¯¦é«”
- **æ–‡ä»¶**: `lib/domain/entities/reader_settings.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **å®Œæˆæ™‚é–“**: 2025-11-08
- **å¯¦éš›ç”¨æ™‚**: 30 åˆ†é˜

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»º ReaderSettings é¡
2. å®šç¾©è¨­ç½®å­—æ®µ:
   ```dart
   class ReaderSettings extends Equatable {
     final ReadingDirection direction;
     final double fontSize;
     final double brightness;
     final bool isNightMode;
     final bool autoHideToolbar;
     // å®Œæ•´å¯¦ç¾è¦‹ä»£ç¢¼æ–‡ä»¶
   }
   ```

**äº¤ä»˜ç‰©**:
- âœ… ReaderSettings å¯¦é«”é¡ï¼ˆ330 è¡Œä»£ç¢¼ï¼‰
- âœ… ç¹¼æ‰¿ Equatable å¯¦ç¾å€¼æ¯”è¼ƒ
- âœ… å®Œæ•´çš„å­—æ®µå®šç¾©ï¼ˆ5 å€‹å­—æ®µï¼‰
- âœ… é–±è®€æ–¹å‘æ›´æ–°æ–¹æ³•ï¼ˆupdateDirectionï¼‰
- âœ… å­—é«”å¤§å°èª¿æ•´æ–¹æ³•ï¼ˆupdateFontSize, increaseFontSize, decreaseFontSizeï¼‰
- âœ… äº®åº¦èª¿æ•´æ–¹æ³•ï¼ˆupdateBrightnessï¼‰
- âœ… æ¨¡å¼åˆ‡æ›æ–¹æ³•ï¼ˆtoggleNightMode, toggleAutoHideToolbarï¼‰
- âœ… å­—é«”å¤§å°æª”ä½è¨ˆç®—ï¼ˆfontSizePresetIndexï¼‰
- âœ… è¨­ç½®é©—è­‰æ–¹æ³•ï¼ˆisValidï¼‰
- âœ… JSON åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼ˆtoJson, fromJsonï¼‰
- âœ… é è¨­è¨­ç½®å·¥å» æ–¹æ³•ï¼ˆdefaultSettingsï¼‰
- âœ… copyWith æ–¹æ³•å¯¦ç¾ä¸å¯è®Šæ€§
- âœ… toString æ–¹æ³•ç”¨æ–¼èª¿è©¦
- âœ… å®Œæ•´çš„å–®å…ƒæ¸¬è©¦ï¼ˆ41 å€‹æ¸¬è©¦ç”¨ä¾‹å…¨éƒ¨é€šéï¼‰

**å¯¦ç¾ç‰¹é»**:
- éµå¾ª Clean Architecture åŸå‰‡ï¼ˆç´”é ˜åŸŸå¯¦é«”ï¼‰
- ä¸å¯è®Šå°è±¡è¨­è¨ˆï¼ˆImmutableï¼‰
- å®Œæ•´çš„æ–‡æª”è¨»é‡‹
- é¡å‹å®‰å…¨çš„ null è™•ç†
- å­—é«”å¤§å°è‡ªå‹•é™åˆ¶ï¼ˆ12-20spï¼‰
- äº®åº¦å€¼è‡ªå‹•é™åˆ¶ï¼ˆ0.0-1.0ï¼‰
- æ”¯æŒ 5 æª”å­—é«”å¤§å°é è¨­
- å®Œæ•´çš„é©—è­‰æ©Ÿåˆ¶

**æ¸¬è©¦è¦†è“‹**:
```
âœ“ æ§‹é€ å‡½æ•¸æ¸¬è©¦ (3 tests)
âœ“ é–±è®€æ–¹å‘æ›´æ–°æ¸¬è©¦ (2 tests)
âœ“ å­—é«”å¤§å°èª¿æ•´æ¸¬è©¦ (10 tests)
âœ“ äº®åº¦èª¿æ•´æ¸¬è©¦ (3 tests)
âœ“ æ¨¡å¼åˆ‡æ›æ¸¬è©¦ (4 tests)
âœ“ é©—è­‰æ–¹æ³•æ¸¬è©¦ (6 tests)
âœ“ copyWith æ¸¬è©¦ (3 tests)
âœ“ JSON åºåˆ—åŒ–æ¸¬è©¦ (3 tests)
âœ“ Equatable æ¸¬è©¦ (3 tests)
âœ“ toString æ¸¬è©¦ (2 tests)
âœ“ å¸¸é‡æ¸¬è©¦ (3 tests)
Total: 41/41 tests passed
```

**é©—æ”¶æ¨™æº–**:
- [x] è¨­ç½®å­—æ®µå®Œæ•´
- [x] åŒ…å«é è¨­å€¼
- [x] é¡å‹å®šç¾©æ­£ç¢º
- [x] æ‰€æœ‰æ›´æ–°æ–¹æ³•å¯¦ç¾
- [x] JSON åºåˆ—åŒ–/ååºåˆ—åŒ–
- [x] å–®å…ƒæ¸¬è©¦å…¨éƒ¨é€šé
- [x] ç„¡ç·¨è­¯éŒ¯èª¤

---

#### âœ… Task 4.3.3: å‰µå»º ReadingDirection æšèˆ‰
- **æ–‡ä»¶**: `lib/domain/entities/reader/reading_direction.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 12 åˆ†é˜
- **ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **å®Œæˆæ™‚é–“**: 2025-11-08
- **å¯¦éš›ç”¨æ™‚**: 12 åˆ†é˜

**å…·é«”æ­¥é©Ÿ**:
1. å®šç¾© ReadingDirection æšèˆ‰:
   ```dart
   enum ReadingDirection {
     vertical('ç›´æ›¸'),    // ç›´æ›¸
     horizontal('æ©«æ›¸'),  // æ©«æ›¸
   }
   ```

**äº¤ä»˜ç‰©**:
- âœ… ReadingDirection æšèˆ‰ï¼ˆ135 è¡Œä»£ç¢¼ï¼‰
- âœ… å…©å€‹æšèˆ‰å€¼ï¼šverticalï¼ˆç›´æ›¸ï¼‰ã€horizontalï¼ˆæ©«æ›¸ï¼‰
- âœ… é¡¯ç¤ºåç¨±å­—æ®µï¼ˆdisplayNameï¼‰
- âœ… åˆ¤æ–·æ–¹æ³•ï¼ˆisVertical, isHorizontalï¼‰
- âœ… åˆ‡æ›æ–¹æ³•ï¼ˆtoggleï¼‰
- âœ… CSS å±¬æ€§ç²å–ï¼ˆcssWritingModeï¼‰
- âœ… UI ç›¸é—œå±¬æ€§ï¼ˆicon, swipeHintï¼‰
- âœ… toString æ–¹æ³•
- âœ… å®Œæ•´çš„å–®å…ƒæ¸¬è©¦ï¼ˆ22 å€‹æ¸¬è©¦ç”¨ä¾‹å…¨éƒ¨é€šéï¼‰

**å¯¦ç¾ç‰¹é»**:
- Enhanced Enumï¼ˆå¢å¼·æšèˆ‰ï¼Œå¸¶æ§‹é€ åƒæ•¸ï¼‰
- æ”¯æŒä¸­æ–‡é¡¯ç¤ºåç¨±
- æä¾› CSS writing-mode å±¬æ€§å€¼
- æä¾› UI åœ–æ¨™å’Œç¿»é æç¤º
- å®Œæ•´çš„æ–‡æª”è¨»é‡‹
- æ‰€æœ‰æ–¹æ³•éƒ½ç¶“éæ¸¬è©¦

**æ¸¬è©¦è¦†è“‹**:
```
âœ“ æšèˆ‰å€¼æ¸¬è©¦ (3 tests)
âœ“ åˆ¤æ–·æ–¹æ³•æ¸¬è©¦ (2 tests)
âœ“ åˆ‡æ›æ–¹æ³•æ¸¬è©¦ (3 tests)
âœ“ CSS å±¬æ€§æ¸¬è©¦ (2 tests)
âœ“ UI ç›¸é—œå±¬æ€§æ¸¬è©¦ (4 tests)
âœ“ toString æ¸¬è©¦ (2 tests)
âœ“ æšèˆ‰åç¨±æ¸¬è©¦ (3 tests)
âœ“ å®Œæ•´ä½¿ç”¨å ´æ™¯æ¸¬è©¦ (3 tests)
Total: 22/22 tests passed
```

**é©—æ”¶æ¨™æº–**:
- [x] æšèˆ‰å®šç¾©æ­£ç¢º
- [x] åŒ…å«å…©ç¨®é–±è®€æ–¹å‘
- [x] åŒ…å«æ–‡æª”è¨»é‡‹
- [x] æä¾›ä¸­æ–‡é¡¯ç¤ºåç¨±
- [x] æä¾› CSS å±¬æ€§
- [x] æä¾› UI è¼”åŠ©å±¬æ€§
- [x] å–®å…ƒæ¸¬è©¦å…¨éƒ¨é€šé
- [x] ç„¡ç·¨è­¯éŒ¯èª¤

---

### Phase 4.4: ReaderController åŸºç¤å¯¦ç¾ (1.5 å°æ™‚)

#### â¬œ Task 4.4.1: å‰µå»º ReaderController æ¡†æ¶
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. ä½¿ç”¨ GetX å‰µå»ºæ§åˆ¶å™¨
2. å®šç¾©åŸºæœ¬ç‹€æ…‹å’Œæ–¹æ³•
3. å¯¦ç¾ç”Ÿå‘½é€±æœŸæ–¹æ³•

**é©—æ”¶æ¨™æº–**:
- [ ] æ§åˆ¶å™¨ç¹¼æ‰¿ `GetxController`
- [ ] å®šç¾©æ‰€æœ‰å¿…è¦çš„ Observable è®Šæ•¸
- [ ] å¯¦ç¾ `onInit()` å’Œ `onClose()` ç”Ÿå‘½é€±æœŸ

---

#### â¬œ Task 4.4.2: å¯¦ç¾æ›¸ç±åŠ è¼‰é‚è¼¯
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾å¾ arguments ç²å–æ›¸ç±
2. è®€å–æœ¬åœ° EPUB æ–‡ä»¶è·¯å¾‘
3. æ·»åŠ éŒ¯èª¤è™•ç†

**é©—æ”¶æ¨™æº–**:
- [ ] èƒ½å¾è·¯ç”±åƒæ•¸ç²å– bookId
- [ ] èƒ½è®€å–æœ¬åœ° EPUB æ–‡ä»¶
- [ ] éŒ¯èª¤è™•ç†å®Œå–„

---

### Phase 4.5: ReaderPage åŸºç¤ UI (1.5 å°æ™‚)

#### â¬œ Task 4.5.1: å‰µå»º ReaderPage æ¡†æ¶
- **æ–‡ä»¶**: `lib/presentation/pages/reader_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºé–±è®€å™¨é é¢åŸºæœ¬çµæ§‹
2. é›†æˆ ReaderController
3. è¨­ç½®åŸºæœ¬çš„ AppBar å’Œ Body

**é©—æ”¶æ¨™æº–**:
- [ ] Scaffold çµæ§‹å®Œæ•´
- [ ] é›†æˆ ReaderController
- [ ] åŸºæœ¬çš„ AppBar å’Œ Body

---

#### â¬œ Task 4.5.2: å¯¦ç¾ EpubViewerWidget
- **æ–‡ä»¶**: `lib/presentation/widgets/epub_viewer_widget.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å°è£ epub_view çš„ EpubView Widget
2. å¯¦ç¾æ‰‹å‹¢ç¿»é 
3. æ·»åŠ åŠ è¼‰å‹•ç•«

**é©—æ”¶æ¨™æº–**:
- [ ] èƒ½æ­£ç¢ºé¡¯ç¤º EPUB å…§å®¹
- [ ] æ”¯æŒæ‰‹å‹¢ç¿»é 
- [ ] æœ‰åŠ è¼‰å‹•ç•«

---

### Phase 4.6: ç¿»é åŠŸèƒ½å¯¦ç¾ (1 å°æ™‚)

#### â¬œ Task 4.6.1: å¯¦ç¾æ©«æ›¸æ¨¡å¼ç¿»é 
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾å¾å·¦å‘å³æ»‘å‹•ç¿»é ï¼ˆæ©«æ›¸æ¨¡å¼ï¼‰
2. æ·»åŠ  `nextPage()` å’Œ `previousPage()` æ–¹æ³•
3. è™•ç†é‚Šç•Œæƒ…æ³

**é©—æ”¶æ¨™æº–**:
- [ ] å·¦æ»‘ç¿»ä¸‹ä¸€é 
- [ ] å³æ»‘ç¿»ä¸Šä¸€é 
- [ ] é‚Šç•Œè™•ç†ï¼ˆé¦–é /æœ«é ï¼‰
- [ ] ç¿»é å‹•ç•«æµæš¢

---

### Phase 4.7: é–±è®€é€²åº¦é¡¯ç¤º (1 å°æ™‚)

#### â¬œ Task 4.7.1: å‰µå»º ReadingProgressBar Widget
- **æ–‡ä»¶**: `lib/presentation/widgets/reading_progress_bar.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºé€²åº¦æ¢ Widget
2. é¡¯ç¤ºã€Œç¬¬ X é  / å…± Y é ã€
3. é¡¯ç¤ºç™¾åˆ†æ¯”é€²åº¦æ¢
4. å¯¦æ™‚æ›´æ–°

**é©—æ”¶æ¨™æº–**:
- [ ] é¡¯ç¤ºã€Œç¬¬ X é  / å…± Y é ã€
- [ ] é¡¯ç¤ºç™¾åˆ†æ¯”é€²åº¦æ¢
- [ ] å¯¦æ™‚æ›´æ–°
- [ ] åº•éƒ¨å›ºå®šé¡¯ç¤º

---

**éšæ®µ 1-2 å°çµ**:
- **ç¸½ä»»å‹™æ•¸**: 8
- **é è¨ˆæ™‚é–“**: ~7 å°æ™‚
- **é—œéµç”¢å‡º**: èƒ½æ‰“é–‹ EPUB ä¸¦é–±è®€ï¼ˆæ©«æ›¸æ¨¡å¼ï¼‰

---

## ğŸ“… Day 3: ç›´æ›¸æ¨¡å¼å¯¦ç¾ (6.5 å°æ™‚)

### Phase 4.8: ç›´æ›¸æ’ç‰ˆå¯¦ç¾ (3 å°æ™‚)

#### â¬œ Task 4.8.1: ç ”ç©¶ CSS writing-mode å¯¦ç¾
- **æ–‡ä»¶**: æŠ€è¡“æ–¹æ¡ˆæ–‡æª”
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. èª¿ç ” epub_view å¦‚ä½•æ³¨å…¥è‡ªå®šç¾© CSS
2. ç¢ºèªå…¼å®¹æ€§å’Œé™åˆ¶
3. æ’°å¯«æŠ€è¡“æ–¹æ¡ˆ

**é©—æ”¶æ¨™æº–**:
- [ ] æ˜ç¢ºå¦‚ä½•ä½¿ç”¨ `writing-mode: vertical-rl`
- [ ] ç¢ºèªå…¼å®¹æ€§
- [ ] æŠ€è¡“æ–¹æ¡ˆå®Œæ•´

---

#### â¬œ Task 4.8.2: å¯¦ç¾ç›´æ›¸ CSS æ³¨å…¥
- **æ–‡ä»¶**: `lib/presentation/widgets/epub_viewer_widget.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨ EPUB æ¸²æŸ“æ™‚æ³¨å…¥ç›´æ›¸ CSS:
   ```css
   body {
     writing-mode: vertical-rl;
     -webkit-writing-mode: vertical-rl;
     -ms-writing-mode: tb-rl;
   }
   ```
2. æ¸¬è©¦ç›´æ›¸æ•ˆæœ

**é©—æ”¶æ¨™æº–**:
- [ ] CSS æˆåŠŸæ³¨å…¥
- [ ] ç›´æ›¸æ•ˆæœæ­£ç¢º
- [ ] ç„¡ä½ˆå±€éŒ¯èª¤

---

#### â¬œ Task 4.8.3: èª¿æ•´ç›´æ›¸æ¨¡å¼é é¢ä½ˆå±€
- **æ–‡ä»¶**: `lib/presentation/pages/reader_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. èª¿æ•´ç›´æ›¸æ¨¡å¼ä¸‹çš„ UI ä½ˆå±€
2. èª¿æ•´é€²åº¦æ¢ä½ç½®
3. èª¿æ•´å·¥å…·æ¬„ä½ç½®

**é©—æ”¶æ¨™æº–**:
- [ ] æ–‡å­—å¾ä¸Šåˆ°ä¸‹ã€å¾å³åˆ°å·¦æ’åˆ—
- [ ] UI å…ƒç´ ä½ç½®åˆç†
- [ ] ç„¡ä½ˆå±€éŒ¯èª¤

---

### Phase 4.9: ç›´æ›¸ç¿»é é‚è¼¯ (1 å°æ™‚)

#### â¬œ Task 4.9.1: å¯¦ç¾ç›´æ›¸ç¿»é æ–¹å‘
- **æ–‡ä»¶**: `lib/presentation/widgets/epub_viewer_widget.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾å¾å³å‘å·¦æ»‘å‹•ç¿»é ï¼ˆç›´æ›¸æ¨¡å¼ï¼‰
2. ä½¿ç”¨ `PageView(reverse: true)`
3. æ¸¬è©¦ç¿»é æ–¹å‘

**é©—æ”¶æ¨™æº–**:
- [ ] å³æ»‘ç¿»ä¸Šä¸€é 
- [ ] å·¦æ»‘ç¿»ä¸‹ä¸€é 
- [ ] ä½¿ç”¨ `PageView(reverse: true)`

---

### Phase 4.10: æ¨¡å¼åˆ‡æ›åŠŸèƒ½ (2.5 å°æ™‚)

#### â¬œ Task 4.10.1: å‰µå»ºæ¨¡å¼åˆ‡æ›æŒ‰éˆ•
- **æ–‡ä»¶**: `lib/presentation/pages/reader_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨å·¥å…·æ¬„æ·»åŠ ç›´æ›¸/æ©«æ›¸åˆ‡æ›æŒ‰éˆ•
2. è¨­è¨ˆåœ–æ¨™ï¼ˆâš”ï¸/ğŸ“–ï¼‰
3. æ·»åŠ åˆ‡æ›å‹•ç•«

**é©—æ”¶æ¨™æº–**:
- [ ] æŒ‰éˆ•é¡¯ç¤ºç•¶å‰æ¨¡å¼åœ–æ¨™
- [ ] é»æ“Šåˆ‡æ›æ¨¡å¼
- [ ] æœ‰åˆ‡æ›å‹•ç•«

---

#### â¬œ Task 4.10.2: å¯¦ç¾æ¨¡å¼åˆ‡æ›é‚è¼¯
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1.5 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨ Controller ä¸­å¯¦ç¾ `toggleReadingDirection()` æ–¹æ³•
2. åˆ‡æ›æ™‚ä¿æŒç•¶å‰é–±è®€ä½ç½®
3. é‡æ–°æ¸²æŸ“ EPUB
4. æ›´æ–°ç¿»é æ–¹å‘

**é©—æ”¶æ¨™æº–**:
- [ ] åˆ‡æ›æ™‚ä¿æŒç•¶å‰é–±è®€ä½ç½®
- [ ] é‡æ–°æ¸²æŸ“ EPUB
- [ ] æ›´æ–°ç¿»é æ–¹å‘
- [ ] åˆ‡æ›å‹•ç•«æµæš¢ï¼ˆ< 300msï¼‰

---

#### â¬œ Task 4.10.3: è¨­ç½®é è¨­é–±è®€æ¨¡å¼
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. é¦–æ¬¡æ‰“é–‹æ›¸ç±æ™‚é è¨­ä½¿ç”¨ç›´æ›¸æ¨¡å¼
2. å¾ŒçºŒæ‰“é–‹ä½¿ç”¨ä¸Šæ¬¡è¨­ç½®

**é©—æ”¶æ¨™æº–**:
- [ ] é¦–æ¬¡æ‰“é–‹è‡ªå‹•ä½¿ç”¨ç›´æ›¸æ¨¡å¼
- [ ] å¾ŒçºŒæ‰“é–‹ä½¿ç”¨ä¸Šæ¬¡è¨­ç½®

---

**éšæ®µ 3 å°çµ**:
- **ç¸½ä»»å‹™æ•¸**: 7
- **é è¨ˆæ™‚é–“**: ~6.5 å°æ™‚
- **é—œéµç”¢å‡º**: ç›´æ›¸/æ©«æ›¸æ¨¡å¼å®Œæ•´å¯¦ç¾

---

## ğŸ“… Day 4: é–±è®€è¨­ç½®å¯¦ç¾ (5.2 å°æ™‚)

### Phase 4.11: è¨­ç½®é¢æ¿ UI (1.2 å°æ™‚)

#### â¬œ Task 4.11.1: å‰µå»ºè¨­ç½®é¢æ¿ Widget
- **æ–‡ä»¶**: `lib/presentation/widgets/reading_settings_panel.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºå¾åº•éƒ¨å½ˆå‡ºçš„è¨­ç½®é¢æ¿
2. BottomSheet æ¨£å¼
3. åŒ…å«å­—é«”å¤§å°å’Œäº®åº¦æ»‘æ¡¿
4. æ·»åŠ å¹³æ»‘å‹•ç•«

**é©—æ”¶æ¨™æº–**:
- [ ] BottomSheet æ¨£å¼æ­£ç¢º
- [ ] åŒ…å«å­—é«”å¤§å°å’Œäº®åº¦æ»‘æ¡¿
- [ ] å¹³æ»‘å‹•ç•«

---

#### â¬œ Task 4.11.2: æ·»åŠ è¨­ç½®æŒ‰éˆ•
- **æ–‡ä»¶**: `lib/presentation/pages/reader_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 12 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨å·¥å…·æ¬„æ·»åŠ è¨­ç½®æŒ‰éˆ•ï¼ˆâš™ï¸ï¼‰
2. é»æ“Šé¡¯ç¤ºè¨­ç½®é¢æ¿

**é©—æ”¶æ¨™æº–**:
- [ ] é»æ“Šé¡¯ç¤ºè¨­ç½®é¢æ¿
- [ ] åœ–æ¨™æ¸…æ™°

---

### Phase 4.12: å­—é«”å¤§å°èª¿æ•´ (1.5 å°æ™‚)

#### â¬œ Task 4.12.1: å¯¦ç¾å­—é«”å¤§å°æ»‘æ¡¿
- **æ–‡ä»¶**: `lib/presentation/widgets/reading_settings_panel.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºå­—é«”å¤§å°èª¿æ•´æ»‘æ¡¿ï¼ˆ5 æª”ï¼‰
2. 5 å€‹é è¨­ç´šåˆ¥ï¼ˆ12/14/16/18/20spï¼‰
3. é è¨­ 16sp

**é©—æ”¶æ¨™æº–**:
- [ ] 5 å€‹é è¨­ç´šåˆ¥
- [ ] é è¨­ 16sp
- [ ] æ»‘å‹•æµæš¢

---

#### â¬œ Task 4.12.2: å¯¦ç¾å­—é«”èª¿æ•´é‚è¼¯
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨ Controller ä¸­å¯¦ç¾ `setFontSize()` æ–¹æ³•
2. èª¿æ•´å³æ™‚ç”Ÿæ•ˆ
3. ä½¿ç”¨ `epubController.changeFontSize()`

**é©—æ”¶æ¨™æº–**:
- [ ] èª¿æ•´å³æ™‚ç”Ÿæ•ˆ
- [ ] å¹³æ»‘éæ¸¡

---

### Phase 4.13: äº®åº¦èª¿æ•´ (1.5 å°æ™‚)

#### â¬œ Task 4.13.1: å¯¦ç¾äº®åº¦æ»‘æ¡¿
- **æ–‡ä»¶**: `lib/presentation/widgets/reading_settings_panel.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºäº®åº¦èª¿æ•´æ»‘æ¡¿ï¼ˆ0-100%ï¼‰
2. é¡¯ç¤ºç•¶å‰ç™¾åˆ†æ¯”

**é©—æ”¶æ¨™æº–**:
- [ ] 0-100% ç¯„åœ
- [ ] é¡¯ç¤ºç•¶å‰ç™¾åˆ†æ¯”
- [ ] æ»‘å‹•æµæš¢

---

#### â¬œ Task 4.13.2: å¯¦ç¾äº®åº¦èª¿æ•´é‚è¼¯
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. ä½¿ç”¨ screen_brightness åŒ…èª¿æ•´äº®åº¦
2. å¯¦ç¾ `setBrightness()` æ–¹æ³•
3. é€€å‡ºæ™‚æ¢å¾©ç³»çµ±äº®åº¦

**é©—æ”¶æ¨™æº–**:
- [ ] èª¿æ•´å³æ™‚ç”Ÿæ•ˆ
- [ ] åƒ…å½±éŸ¿é–±è®€é é¢
- [ ] é€€å‡ºæ™‚æ¢å¾©ç³»çµ±äº®åº¦

---

### Phase 4.14: è¨­ç½®æŒä¹…åŒ– (1 å°æ™‚)

#### â¬œ Task 4.14.1: å¯¦ç¾è¨­ç½®ä¿å­˜
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. ä½¿ç”¨ SharedPreferences ä¿å­˜è¨­ç½®
2. ä¿å­˜é–±è®€æ–¹å‘
3. ä¿å­˜å­—é«”å¤§å°
4. ä¿å­˜äº®åº¦è¨­ç½®
5. è‡ªå‹•ä¿å­˜ï¼ˆç„¡éœ€æ‰‹å‹•é»æ“Šï¼‰

**é©—æ”¶æ¨™æº–**:
- [ ] ä¿å­˜é–±è®€æ–¹å‘
- [ ] ä¿å­˜å­—é«”å¤§å°
- [ ] ä¿å­˜äº®åº¦è¨­ç½®
- [ ] è‡ªå‹•ä¿å­˜

---

**éšæ®µ 4 å°çµ**:
- **ç¸½ä»»å‹™æ•¸**: 6
- **é è¨ˆæ™‚é–“**: ~5.2 å°æ™‚
- **é—œéµç”¢å‡º**: å®Œæ•´çš„é–±è®€è¨­ç½®åŠŸèƒ½

---

## ğŸ“… Day 4-5: æ›¸ç±¤åŠŸèƒ½å¯¦ç¾ (4.5 å°æ™‚)

### Phase 4.15: æ•¸æ“šæ¨¡å‹æ›´æ–° (1 å°æ™‚)

#### â¬œ Task 4.15.1: æ›´æ–° ReadingProgress æ¨¡å‹
- **æ–‡ä»¶**: `lib/domain/entities/reading_progress.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ·»åŠ æ›¸ç±¤ç›¸é—œæ¬„ä½å’Œæ–¹æ³•:
   ```dart
   class ReadingProgress {
     List<int> bookmarkedPages;
     bool isBookmarked(int page);
     void toggleBookmark(int page);
   }
   ```

**é©—æ”¶æ¨™æº–**:
- [ ] æ›¸ç±¤æ¬„ä½å·²æ·»åŠ 
- [ ] æ–¹æ³•å¯¦ç¾æ­£ç¢º

---

#### â¬œ Task 4.15.2: å‰µå»º Hive Adapter
- **æ–‡ä»¶**: `lib/data/models/reading_progress_adapter.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. ç‚º ReadingProgress å‰µå»º Hive TypeAdapter
2. æ·»åŠ  @HiveType å’Œ @HiveField è¨»è§£

**é©—æ”¶æ¨™æº–**:
- [ ] @HiveType è¨»è§£æ­£ç¢º
- [ ] @HiveField å®Œæ•´
- [ ] èƒ½æ­£ç¢ºåºåˆ—åŒ–/ååºåˆ—åŒ–

---

### Phase 4.16: æ›¸ç±¤æŒ‰éˆ• UI (1 å°æ™‚)

#### â¬œ Task 4.16.1: å‰µå»ºæ›¸ç±¤æŒ‰éˆ•
- **æ–‡ä»¶**: `lib/presentation/pages/reader_page.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ¨å·¥å…·æ¬„æ·»åŠ æ›¸ç±¤æŒ‰éˆ•
2. æœªæ·»åŠ é¡¯ç¤º ğŸ”–ï¼ˆç°è‰²ï¼‰
3. å·²æ·»åŠ é¡¯ç¤º ğŸ“‘ï¼ˆå½©è‰²ï¼‰

**é©—æ”¶æ¨™æº–**:
- [ ] æœªæ·»åŠ é¡¯ç¤º ğŸ”–ï¼ˆç°è‰²ï¼‰
- [ ] å·²æ·»åŠ é¡¯ç¤º ğŸ“‘ï¼ˆå½©è‰²ï¼‰
- [ ] é»æ“Šæœ‰åé¥‹å‹•ç•«

---

#### â¬œ Task 4.16.2: å¯¦ç¾æ›¸ç±¤ç‹€æ…‹åˆ‡æ›å‹•ç•«
- **æ–‡ä»¶**: `lib/presentation/pages/reader_page.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ·»åŠ æ›¸ç±¤åœ–æ¨™åˆ‡æ›å‹•ç•«
2. ç¸®æ”¾å‹•ç•«
3. è§¸è¦ºåé¥‹

**é©—æ”¶æ¨™æº–**:
- [ ] åˆ‡æ›æ™‚æœ‰ç¸®æ”¾å‹•ç•«
- [ ] å‹•ç•«æµæš¢ï¼ˆ< 200msï¼‰
- [ ] æœ‰è§¸è¦ºåé¥‹

---

### Phase 4.17: æ›¸ç±¤é‚è¼¯å¯¦ç¾ (1.5 å°æ™‚)

#### â¬œ Task 4.17.1: å¯¦ç¾æ›¸ç±¤åˆ‡æ›é‚è¼¯
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å¯¦ç¾ `toggleCurrentBookmark()` æ–¹æ³•
2. æª¢æŸ¥ç•¶å‰é æ˜¯å¦å·²æ·»åŠ æ›¸ç±¤
3. åˆ‡æ›æ›¸ç±¤ç‹€æ…‹
4. æ›´æ–° UI
5. ä¿å­˜åˆ°æ•¸æ“šåº«

**é©—æ”¶æ¨™æº–**:
- [ ] æª¢æŸ¥æ›¸ç±¤ç‹€æ…‹æ­£ç¢º
- [ ] åˆ‡æ›é‚è¼¯æ­£ç¢º
- [ ] UI å³æ™‚æ›´æ–°
- [ ] ä¿å­˜åˆ°æ•¸æ“šåº«

---

#### â¬œ Task 4.17.2: å¯¦ç¾æ›¸ç±¤æ•¸æ“šæŒä¹…åŒ–
- **æ–‡ä»¶**: `lib/data/repositories/reading_repository_impl.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. ä½¿ç”¨ Hive ä¿å­˜æ›¸ç±¤æ•¸æ“š
2. æ›¸ç±¤å³æ™‚ä¿å­˜
3. é‡æ–°æ‰“é–‹æ™‚æ¢å¾©æ›¸ç±¤

**é©—æ”¶æ¨™æº–**:
- [ ] æ›¸ç±¤å³æ™‚ä¿å­˜
- [ ] é‡æ–°æ‰“é–‹æ™‚æ¢å¾©æ›¸ç±¤
- [ ] ç„¡æ•¸æ“šä¸Ÿå¤±

---

### Phase 4.18: æ›¸ç±¤æ¢å¾©åŠŸèƒ½ (0.5 å°æ™‚)

#### â¬œ Task 4.18.1: å¯¦ç¾æ›¸ç±¤ç‹€æ…‹æ¢å¾©
- **æ–‡ä»¶**: `lib/presentation/controllers/reader_controller.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ‰“é–‹æ›¸ç±æ™‚æ¢å¾©æ›¸ç±¤ç‹€æ…‹
2. å¯¦ç¾ `_loadBookmarks()` æ–¹æ³•
3. æ›´æ–°ç•¶å‰é æ›¸ç±¤æŒ‰éˆ•ç‹€æ…‹

**é©—æ”¶æ¨™æº–**:
- [ ] å¾ Hive è®€å–æ›¸ç±¤æ•¸æ“š
- [ ] æ›´æ–° bookmarkedPages åˆ—è¡¨
- [ ] æ›´æ–°ç•¶å‰é æ›¸ç±¤æŒ‰éˆ•ç‹€æ…‹

---

**éšæ®µ 5 å°çµ**:
- **ç¸½ä»»å‹™æ•¸**: 7
- **é è¨ˆæ™‚é–“**: ~4.5 å°æ™‚
- **é—œéµç”¢å‡º**: å®Œæ•´çš„åŸºç¤æ›¸ç±¤åŠŸèƒ½

---

## ğŸ“… Day 5: æ•´åˆæ¸¬è©¦ (9 å°æ™‚)

### Phase 4.19: å–®å…ƒæ¸¬è©¦ (2.5 å°æ™‚)

#### â¬œ Task 4.19.1: ç·¨å¯« ReaderController å–®å…ƒæ¸¬è©¦
- **æ–‡ä»¶**: `test/controllers/reader_controller_test.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 2 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å‰µå»ºæ¸¬è©¦æ–‡ä»¶
2. æ¸¬è©¦åˆå§‹åŒ–é‚è¼¯
3. æ¸¬è©¦ç¿»é é‚è¼¯
4. æ¸¬è©¦æ¨¡å¼åˆ‡æ›
5. æ¸¬è©¦æ›¸ç±¤åŠŸèƒ½

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] æ¸¬è©¦è¦†è“‹ç‡ > 80%

---

#### â¬œ Task 4.19.2: ç·¨å¯« ReadingProgress å–®å…ƒæ¸¬è©¦
- **æ–‡ä»¶**: `test/entities/reading_progress_test.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ¸¬è©¦ toggleBookmark()
2. æ¸¬è©¦ isBookmarked()
3. æ¸¬è©¦æ•¸æ“šåºåˆ—åŒ–

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰æ–¹æ³•æ¸¬è©¦é€šé
- [ ] æ•¸æ“šåºåˆ—åŒ–æ­£ç¢º

---

### Phase 4.20: Widget æ¸¬è©¦ (2.5 å°æ™‚)

#### â¬œ Task 4.20.1: ç·¨å¯« ReaderPage Widget æ¸¬è©¦
- **æ–‡ä»¶**: `test/pages/reader_page_test.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ¸¬è©¦é é¢åˆå§‹åŒ–
2. æ¸¬è©¦å·¥å…·æ¬„é¡¯ç¤º
3. æ¸¬è©¦é€²åº¦æ¢é¡¯ç¤º
4. æ¸¬è©¦æŒ‰éˆ•äº¤äº’

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰ UI å…ƒç´ æ­£ç¢ºé¡¯ç¤º
- [ ] æŒ‰éˆ•äº¤äº’æ­£å¸¸

---

#### â¬œ Task 4.20.2: ç·¨å¯« EpubViewerWidget æ¸¬è©¦
- **æ–‡ä»¶**: `test/widgets/epub_viewer_widget_test.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ¸¬è©¦æ‰‹å‹¢è­˜åˆ¥
2. æ¸¬è©¦ç¿»é å‹•ç•«
3. æ¸¬è©¦åŠ è¼‰ç‹€æ…‹

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰‹å‹¢è­˜åˆ¥æ­£ç¢º
- [ ] ç¿»é å‹•ç•«æµæš¢
- [ ] åŠ è¼‰ç‹€æ…‹æ­£ç¢º

---

#### â¬œ Task 4.20.3: ç·¨å¯«è¨­ç½®é¢æ¿ Widget æ¸¬è©¦
- **æ–‡ä»¶**: `test/widgets/reading_settings_panel_test.dart`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ¸¬è©¦æ»‘æ¡¿äº¤äº’
2. æ¸¬è©¦è¨­ç½®ä¿å­˜

**é©—æ”¶æ¨™æº–**:
- [ ] æ»‘æ¡¿äº¤äº’æ­£å¸¸
- [ ] è¨­ç½®æ­£ç¢ºä¿å­˜

---

### Phase 4.21: é›†æˆæ¸¬è©¦ (2 å°æ™‚)

#### â¬œ Task 4.21.1: ç·¨å¯«å®Œæ•´é–±è®€æµç¨‹æ¸¬è©¦
- **æ–‡ä»¶**: `integration_test/reader_flow_test.dart`
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 2 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ¸¬è©¦æ‰“é–‹æ›¸ç±
2. æ¸¬è©¦ç¿»é 
3. æ¸¬è©¦æ¨¡å¼åˆ‡æ›
4. æ¸¬è©¦æ·»åŠ æ›¸ç±¤
5. æ¸¬è©¦è¨­ç½®èª¿æ•´

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] è¦†è“‹å®Œæ•´æµç¨‹

---

### Phase 4.22: æ€§èƒ½æ¸¬è©¦ (2 å°æ™‚)

#### â¬œ Task 4.22.1: æ¸¬è©¦é–±è®€å™¨æ€§èƒ½
- **å·¥å…·**: DevTools
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. ä½¿ç”¨ DevTools æ¸¬è©¦æ€§èƒ½æŒ‡æ¨™
2. è¨˜éŒ„å•Ÿå‹•æ™‚é–“
3. è¨˜éŒ„ç¿»é æµæš¢åº¦
4. è¨˜éŒ„å…§å­˜ä½¿ç”¨

**é©—æ”¶æ¨™æº–**:
- [ ] å•Ÿå‹•æ™‚é–“ < 2s
- [ ] ç¿»é æµæš¢åº¦ 60fps
- [ ] å…§å­˜ä½¿ç”¨ < 150MB
- [ ] ç„¡å…§å­˜æ´©æ¼

---

#### â¬œ Task 4.22.2: ä¿®å¾©æ€§èƒ½å•é¡Œ
- **æ–‡ä»¶**: ç›¸é—œä»£ç¢¼
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æ ¹æ“šæ¸¬è©¦çµæœå„ªåŒ–æ€§èƒ½
2. ä¿®å¾©ç™¼ç¾çš„å•é¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰æ€§èƒ½æŒ‡æ¨™é”æ¨™
- [ ] ç„¡æ˜é¡¯å¡é “

---

**éšæ®µ 6 å°çµ**:
- **ç¸½ä»»å‹™æ•¸**: 8
- **é è¨ˆæ™‚é–“**: ~9 å°æ™‚
- **é—œéµç”¢å‡º**: å®Œæ•´çš„æ¸¬è©¦è¦†è“‹

---

## ğŸ“… Day 6: æ–‡æª”èˆ‡ç™¼å¸ƒ (6 å°æ™‚)

### Phase 4.23: API æ–‡æª” (1.5 å°æ™‚)

#### â¬œ Task 4.23.1: æ·»åŠ ä»£ç¢¼è¨»é‡‹
- **æ–‡ä»¶**: æ‰€æœ‰ä»£ç¢¼æ–‡ä»¶
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. ç‚ºæ‰€æœ‰ public æ–¹æ³•æ·»åŠ  Dart Doc è¨»é‡‹
2. ç‚ºæ‰€æœ‰ class æ·»åŠ è¨»é‡‹
3. ä½¿ç”¨ `///` æ ¼å¼

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰ public æ–¹æ³•æœ‰è¨»é‡‹
- [ ] æ‰€æœ‰ class æœ‰è¨»é‡‹
- [ ] ä½¿ç”¨ `///` æ ¼å¼

---

#### â¬œ Task 4.23.2: ç”Ÿæˆ API æ–‡æª”
- **å‘½ä»¤**: `dart doc`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åŸ·è¡Œ `dart doc`
2. æª¢æŸ¥ç”Ÿæˆçš„æ–‡æª”

**é©—æ”¶æ¨™æº–**:
- [ ] æ–‡æª”å®Œæ•´æ¸…æ™°

---

### Phase 4.24: ç”¨æˆ¶æŒ‡å— (1 å°æ™‚)

#### â¬œ Task 4.24.1: ç·¨å¯«ä½¿ç”¨èªªæ˜
- **æ–‡ä»¶**: `docs/reader_guide.md`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. èªªæ˜å¦‚ä½•æ‰“é–‹æ›¸ç±
2. èªªæ˜å¦‚ä½•ä½¿ç”¨ç›´æ›¸/æ©«æ›¸æ¨¡å¼
3. èªªæ˜å¦‚ä½•æ·»åŠ æ›¸ç±¤
4. èªªæ˜å¦‚ä½•èª¿æ•´è¨­ç½®
5. åŒ…å«æˆªåœ–

**é©—æ”¶æ¨™æº–**:
- [ ] ä½¿ç”¨èªªæ˜å®Œæ•´
- [ ] åŒ…å«æˆªåœ–

---

### Phase 4.25: æˆªåœ–èˆ‡æ¼”ç¤º (1.5 å°æ™‚)

#### â¬œ Task 4.25.1: æˆªå–åŠŸèƒ½æˆªåœ–
- **æ–‡ä»¶**: `screenshots/reader/`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æˆªå–ç›´æ›¸æ¨¡å¼æˆªåœ–
2. æˆªå–æ©«æ›¸æ¨¡å¼æˆªåœ–
3. æˆªå–è¨­ç½®é¢æ¿æˆªåœ–
4. æˆªå–æ›¸ç±¤åŠŸèƒ½æˆªåœ–

**é©—æ”¶æ¨™æº–**:
- [ ] æ‰€æœ‰åŠŸèƒ½æˆªåœ–å®Œæ•´
- [ ] åˆ†è¾¨ç‡çµ±ä¸€

---

#### â¬œ Task 4.25.2: éŒ„è£½æ¼”ç¤ºè¦–é »
- **æ–‡ä»¶**: `demo/reader_demo.mp4`
- **å„ªå…ˆç´š**: P2
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. å±•ç¤ºå®Œæ•´é–±è®€æµç¨‹
2. å±•ç¤ºæ¨¡å¼åˆ‡æ›
3. å±•ç¤ºæ›¸ç±¤åŠŸèƒ½
4. æ™‚é•· < 3 åˆ†é˜

**é©—æ”¶æ¨™æº–**:
- [ ] å±•ç¤ºå®Œæ•´é–±è®€æµç¨‹
- [ ] æ™‚é•· < 3 åˆ†é˜

---

### Phase 4.26: ä»£ç¢¼å¯©æŸ¥ (1.5 å°æ™‚)

#### â¬œ Task 4.26.1: åŸ·è¡Œä»£ç¢¼å¯©æŸ¥
- **æ–‡ä»¶**: å¯©æŸ¥å ±å‘Š
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 1 å°æ™‚
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. åœ˜éšŠä»£ç¢¼å¯©æŸ¥
2. è¨˜éŒ„å¯©æŸ¥æ„è¦‹
3. ä¿®å¾©ç™¼ç¾çš„å•é¡Œ

**é©—æ”¶æ¨™æº–**:
- [ ] ä»£ç¢¼ç¬¦åˆè¦ç¯„
- [ ] ç„¡æ˜é¡¯å•é¡Œ
- [ ] å¯©æŸ¥æ„è¦‹å·²ä¿®å¾©

---

#### â¬œ Task 4.26.2: æ›´æ–° CHANGELOG
- **æ–‡ä»¶**: `CHANGELOG.md`
- **å„ªå…ˆç´š**: P1
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. è¨˜éŒ„æ‰€æœ‰æ–°åŠŸèƒ½
2. è¨˜éŒ„å·²ä¿®å¾©çš„ Bug
3. æ›´æ–°ç‰ˆæœ¬è™Ÿ

**é©—æ”¶æ¨™æº–**:
- [ ] è¨˜éŒ„æ‰€æœ‰æ–°åŠŸèƒ½
- [ ] è¨˜éŒ„å·²ä¿®å¾©çš„ Bug
- [ ] ç‰ˆæœ¬è™Ÿæ­£ç¢º

---

### Phase 4.27: ç™¼å¸ƒæº–å‚™ (0.5 å°æ™‚)

#### â¬œ Task 4.27.1: æº–å‚™ Demo å±•ç¤º
- **æ–‡ä»¶**: Demo ç’°å¢ƒ
- **å„ªå…ˆç´š**: P0
- **é è¨ˆæ™‚é–“**: 30 åˆ†é˜
- **ç‹€æ…‹**: â¬œ æœªé–‹å§‹

**å…·é«”æ­¥é©Ÿ**:
1. æº–å‚™çµ¦åœ˜éšŠ/ç”¨æˆ¶çš„ Demo
2. æº–å‚™æ¸¬è©¦æ•¸æ“š
3. ç¢ºä¿ APP é‹è¡Œç©©å®š

**é©—æ”¶æ¨™æº–**:
- [ ] APP é‹è¡Œç©©å®š
- [ ] æ¸¬è©¦æ•¸æ“šæº–å‚™å®Œæ•´
- [ ] æ¼”ç¤ºæµç¨‹æ¸…æ™°

---

**éšæ®µ 7 å°çµ**:
- **ç¸½ä»»å‹™æ•¸**: 7
- **é è¨ˆæ™‚é–“**: ~6 å°æ™‚
- **é—œéµç”¢å‡º**: å®Œæ•´çš„æ–‡æª”å’Œ Demo

---

## ğŸ“Š ç¸½é«”çµ±è¨ˆ

### æ™‚é–“åˆ†é…
| éšæ®µ | é è¨ˆæ™‚é–“ | ä½”æ¯” |
|------|----------|------|
| Phase 4.1-4.7: åŸºç¤æ¸²æŸ“ | 7h | 16.7% |
| Phase 4.8-4.10: ç›´æ›¸æ¨¡å¼ | 6.5h | 15.5% |
| Phase 4.11-4.14: é–±è®€è¨­ç½® | 5.2h | 12.4% |
| Phase 4.15-4.18: æ›¸ç±¤åŠŸèƒ½ | 4.5h | 10.7% |
| Phase 4.19-4.22: æ•´åˆæ¸¬è©¦ | 9h | 21.4% |
| Phase 4.23-4.27: æ–‡æª”ç™¼å¸ƒ | 6h | 14.3% |
| **ç·©è¡æ™‚é–“** | 4h | 9.5% |
| **ç¸½è¨ˆ** | **42h** | **100%** |

### å„ªå…ˆç´šåˆ†ä½ˆ
- **P0 (å¿…é ˆå®Œæˆ)**: 35 å€‹ä»»å‹™ (81%)
- **P1 (æ‡‰è©²å®Œæˆ)**: 7 å€‹ä»»å‹™ (16%)
- **P2 (å¯ä»¥å»¶å¾Œ)**: 1 å€‹ä»»å‹™ (3%)

### ä¾è³´é—œä¿‚
```
Phase 4.1-4.7 (åŸºç¤æ¸²æŸ“) 
  â””â”€â†’ Phase 4.8-4.10 (ç›´æ›¸æ¨¡å¼)
       â””â”€â†’ Phase 4.11-4.14 (é–±è®€è¨­ç½®)
            â””â”€â†’ Phase 4.15-4.18 (æ›¸ç±¤åŠŸèƒ½)
                 â””â”€â†’ Phase 4.19-4.22 (æ•´åˆæ¸¬è©¦)
                      â””â”€â†’ Phase 4.23-4.27 (æ–‡æª”ç™¼å¸ƒ)
```

---

## ğŸ¯ é©—æ”¶æ¨™æº–ç¸½è¦½

### åŠŸèƒ½é©—æ”¶
- [ ] èƒ½æ­£ç¢ºæ‰“é–‹ä¸¦æ¸²æŸ“ EPUB æ–‡ä»¶
- [ ] æ”¯æŒç›´æ›¸å’Œæ©«æ›¸å…©ç¨®é–±è®€æ¨¡å¼
- [ ] ç›´æ›¸æ¨¡å¼ï¼šå¾å³å‘å·¦æ»‘å‹•ç¿»é 
- [ ] æ©«æ›¸æ¨¡å¼ï¼šå¾å·¦å‘å³æ»‘å‹•ç¿»é 
- [ ] æ¨¡å¼åˆ‡æ›æµæš¢ï¼Œä¿æŒé–±è®€ä½ç½®
- [ ] é–±è®€é€²åº¦æ­£ç¢ºé¡¯ç¤ºå’Œæ›´æ–°
- [ ] å­—é«”å¤§å°å¯èª¿æ•´ï¼ˆ5 æª”ï¼‰
- [ ] äº®åº¦å¯èª¿æ•´ï¼ˆ0-100%ï¼‰
- [ ] æ›¸ç±¤å¯æ·»åŠ /ç§»é™¤
- [ ] æ›¸ç±¤æ•¸æ“šæ­£ç¢ºä¿å­˜å’Œæ¢å¾©
- [ ] é–±è®€åå¥½æ­£ç¢ºä¿å­˜å’Œæ¢å¾©

### æ€§èƒ½é©—æ”¶
- [ ] å•Ÿå‹•æ™‚é–“ < 2 ç§’
- [ ] ç¿»é æµæš¢åº¦ 60fps
- [ ] å…§å­˜ä½¿ç”¨ < 150MB
- [ ] ç„¡å…§å­˜æ´©æ¼
- [ ] ç„¡æ˜é¡¯å¡é “

### æ¸¬è©¦é©—æ”¶
- [ ] å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ > 80%
- [ ] æ‰€æœ‰ Widget æ¸¬è©¦é€šé
- [ ] é›†æˆæ¸¬è©¦é€šé
- [ ] æ€§èƒ½æ¸¬è©¦é”æ¨™

### æ–‡æª”é©—æ”¶
- [ ] API æ–‡æª”å®Œæ•´
- [ ] ç”¨æˆ¶æŒ‡å—æ¸…æ™°
- [ ] æˆªåœ–å®Œæ•´
- [ ] Demo è¦–é »å®Œæ•´

---

## ğŸ“ é–‹ç™¼æ—¥èªŒ

### 2025-11-08
- âœ… å‰µå»ºä»»å‹™æ¸…å–®æ–‡æª”
- âœ… æ›´æ–°ä»»å‹™ç·¨è™Ÿæ ¼å¼ï¼ˆ4.x.xï¼‰
- âœ… åƒè€ƒ Spec 03 æ ¼å¼é‡æ§‹æ–‡æª”
- ğŸ“‹ å®šç¾© 43 å€‹å…·é«”ä»»å‹™
- ğŸ“‹ ä¼°ç®—ç¸½è¨ˆ 42 å°æ™‚é–‹ç™¼æ™‚é–“

### [æ—¥æœŸ]
- [ ] [è¨˜éŒ„æ¯æ—¥é€²åº¦]

---

## ğŸ› å·²çŸ¥å•é¡Œ

### å¾…ä¿®å¾©
1. [å•é¡Œæè¿°]
   - **åš´é‡ç¨‹åº¦**: [é«˜/ä¸­/ä½]
   - **å½±éŸ¿ç¯„åœ**: [æè¿°]
   - **è¨ˆåŠƒä¿®å¾©æ™‚é–“**: [æ—¥æœŸ]

### å·²ä¿®å¾©
1. [å•é¡Œæè¿°]
   - **ä¿®å¾©æ—¥æœŸ**: [æ—¥æœŸ]
   - **è§£æ±ºæ–¹æ¡ˆ**: [æè¿°]

---

## ğŸ’¡ å„ªåŒ–å»ºè­°

### æ€§èƒ½å„ªåŒ–
1. [å»ºè­° 1]
   - **é æœŸæ•ˆæœ**: [æè¿°]
   - **å¯¦æ–½é›£åº¦**: [é«˜/ä¸­/ä½]

### ç”¨æˆ¶é«”é©—å„ªåŒ–
1. [å»ºè­° 1]
   - **é æœŸæ•ˆæœ**: [æè¿°]
   - **å¯¦æ–½é›£åº¦**: [é«˜/ä¸­/ä½]

---

## ğŸ“Œ æ³¨æ„äº‹é …

### é–‹ç™¼æ³¨æ„äº‹é …
1. **EPUB å…¼å®¹æ€§**: å……åˆ†æ¸¬è©¦ä¸åŒæ ¼å¼çš„ EPUB æ–‡ä»¶
2. **ç›´æ›¸æ¨¡å¼**: ç¢ºä¿ CSS åœ¨ä¸åŒè¨­å‚™ä¸Šçš„å…¼å®¹æ€§
3. **æ›¸ç±¤æº–ç¢ºæ€§**: ä½¿ç”¨ç©©å®šçš„ CFI æ©Ÿåˆ¶ç¢ºä¿æ›¸ç±¤ä½ç½®æº–ç¢º
4. **æ€§èƒ½ç›£æ§**: ä½¿ç”¨ DevTools æŒçºŒç›£æ§æ€§èƒ½
5. **éŒ¯èª¤è™•ç†**: æ‰€æœ‰ async æ“ä½œå¿…é ˆæœ‰éŒ¯èª¤è™•ç†

### æ¸¬è©¦æ³¨æ„äº‹é …
1. æ¸¬è©¦è‡³å°‘ 10 æœ¬ä¸åŒçš„ EPUB æ–‡ä»¶
2. æ¸¬è©¦ä¸åŒè¢å¹•å°ºå¯¸ï¼ˆæ‰‹æ©Ÿ/å¹³æ¿ï¼‰
3. æ¸¬è©¦ä¸åŒ Android ç‰ˆæœ¬ï¼ˆAPI 21-34ï¼‰
4. æ¸¬è©¦æ¥µç«¯æƒ…æ³ï¼ˆè¶…å¤§æ–‡ä»¶ã€æå£æ–‡ä»¶ï¼‰
5. æ¸¬è©¦é•·æ™‚é–“é–±è®€ï¼ˆå…§å­˜æ´©æ¼æª¢æ¸¬ï¼‰

### ä»£ç¢¼è¦ç¯„
1. æ‰€æœ‰ public æ–¹æ³•å¿…é ˆæœ‰ Dart Doc è¨»é‡‹
2. ä½¿ç”¨ `flutter analyze` ç¢ºä¿ç„¡è­¦å‘Š
3. ä½¿ç”¨ `flutter format` çµ±ä¸€ä»£ç¢¼æ ¼å¼
4. éµå¾ª Clean Architecture åŸå‰‡
5. å–®ä¸€è·è²¬åŸå‰‡

---

## ğŸ”— ç›¸é—œæ–‡æª”

- [Spec 04: EPUB é–±è®€å™¨è¦æ ¼æ–‡æª”](./04-reader-view.md)
- [Spec 03: æ›¸ç±è©³æƒ…é ä»»å‹™æ¸…å–®](./03-book-detail-tasks.md)
- [é–‹ç™¼è¨ˆåŠƒ](./development-plan.md)
- [å°ˆæ¡ˆæ†²ç« ](./00-constitution.md)
- [epub_view å®˜æ–¹æ–‡æª”](https://pub.dev/packages/epub_view)

---

**æ–‡æª”ç‰ˆæœ¬**: 2.0  
**å‰µå»ºæ—¥æœŸ**: 2025-11-08  
**æœ€å¾Œæ›´æ–°**: 2025-11-08  
**ç¶­è­·è€…**: [å¾…åˆ†é…]

---

**ä¸‹ä¸€æ­¥è¡Œå‹•**:
1. â¬œ åˆ†é…ä»»å‹™è² è²¬äºº
2. â¬œ é–‹å§‹ Phase 4.1 é–‹ç™¼
3. â¬œ æ¯æ—¥æ›´æ–°é€²åº¦
4. â¬œ å®šæœŸåŒæ­¥å•é¡Œ

**æç¤º**: æ¯å®Œæˆä¸€å€‹ä»»å‹™ï¼Œè«‹åœ¨ â¬œ è™•æ¨™è¨˜ç‚º âœ…ï¼Œä¸¦æ›´æ–°ã€Œé€²åº¦è¿½è¹¤ã€å€åŸŸï¼ğŸ’ª

